"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),_asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator")),_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits")),_possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn")),_getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_command=require("@oclif/command"),_lzString=require("lz-string"),_qrcodeTerminal=_interopRequireDefault(require("qrcode-terminal")),_querystring=_interopRequireDefault(require("querystring"));function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=(0,_getPrototypeOf2["default"])(a);if(b){var e=(0,_getPrototypeOf2["default"])(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return(0,_possibleConstructorReturn2["default"])(this,c)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}var Open=function(a){function b(){return(0,_classCallCheck2["default"])(this,b),c.apply(this,arguments)}(0,_inherits2["default"])(b,a);var c=_createSuper(b);return(0,_createClass2["default"])(b,[{key:"run",value:function(){var a=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark(function a(){var c,d,e,f,g;return _regenerator["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:c=this.parse(b),d=c.flags,e=d.production?"karrot":"karrot.alpha",f=d.production?"prod":"alpha",g="".concat(e,"://minikarrot/router?").concat(_querystring["default"].stringify({navbar:"false",scrollable:d.scrollable,present:"top",app:"https://webview.".concat(f,".kr.karrotmarket.com/mini-redirect"),path:"/".concat((0,_lzString.compressToEncodedURIComponent)(JSON.stringify({appId:d.appId,redirect:d.url})))})),_qrcodeTerminal["default"].generate(g);case 5:case"end":return a.stop();}},a,this)}));return function run(){return a.apply(this,arguments)}}()}]),b}(_command.Command);exports["default"]=Open,(0,_defineProperty2["default"])(Open,"description","\uC778\uD130\uB137\uC5D0 \uBC30\uD3EC\uB41C \uC6F9 \uC5B4\uD50C\uB9AC\uCF00\uC774\uC158\uC744 \uB2F9\uADFC\uB9C8\uCF13 \uC571 \uB0B4 \uC6F9\uBDF0\uB85C \uB744\uC6CC\uC694"),(0,_defineProperty2["default"])(Open,"examples",["$ karrot-mini open --appId 0f3657... --url=http://m.daum.net"]),(0,_defineProperty2["default"])(Open,"flags",{help:_command.flags.help({char:"h",description:"\uC0AC\uC6A9 \uAC00\uB2A5\uD55C CLI \uBA85\uB839\uC5B4, \uC635\uC158\uC744 \uCD9C\uB825\uD574\uC694."}),url:_command.flags.string({char:"u",required:!0,description:"\uB2F9\uADFC\uB9C8\uCF13 \uC6F9\uBDF0\uB85C \uB744\uC6B8 \uC6F9 URL"}),appId:_command.flags.string({required:!0,description:"\uB9CC\uC57D \uAE30\uC874\uC5D0 \uB3D9\uC758\uAC00 \uB41C \uC0C1\uD0DC\uB77C\uBA74, `appId`\uB97C \uD1B5\uD574 \uC0DD\uC131\uD55C Authorization Code\uB97C `?code=` \uCFFC\uB9AC \uD30C\uB77C\uBBF8\uD130\uB85C \uB118\uACA8\uBC1B\uC744 \uC218 \uC788\uC5B4\uC694."}),scrollable:_command.flags.boolean({description:"\uC2A4\uD06C\uB864 \uAC00\uB2A5 \uC5EC\uBD80",default:!1}),production:_command.flags.boolean({description:"\uB2F9\uADFC\uB9C8\uCF13 \uD504\uB85C\uB355\uC158 \uD658\uACBD\uC744 \uC0AC\uC6A9\uD560\uC9C0 \uC5EC\uBD80"})});