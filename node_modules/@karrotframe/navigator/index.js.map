{"version":3,"sources":["webpack://@karrotframe/navigator/webpack/universalModuleDefinition","webpack://@karrotframe/navigator/./src/store/createStore.ts","webpack://@karrotframe/navigator/./src/store/index.tsx","webpack://@karrotframe/navigator/./src/components/_lib/NodeRef.tsx","webpack://@karrotframe/navigator/./src/contexts/ContextScreenInstance.ts","webpack://@karrotframe/navigator/./src/contexts/ContextScreenInstanceSetNavbar.ts","webpack://@karrotframe/navigator/./src/contexts/index.ts","webpack://@karrotframe/navigator/./src/helpers/getNavigatorParams.ts","webpack://@karrotframe/navigator/./src/hooks/useHistoryEffect.ts","webpack://@karrotframe/navigator/./src/hooks/useUniqueId.tsx","webpack://@karrotframe/navigator/./src/hooks/index.ts","webpack://@karrotframe/navigator/./src/useNavigator.ts","webpack://@karrotframe/navigator/../.yarn/__virtual__/mini-css-extract-plugin-virtual-3230106b30/0/cache/mini-css-extract-plugin-npm-1.3.8-9e53dc9d3f-10ecedbf47.zip/node_modules/mini-css-extract-plugin/dist/.yarn/__virtual__/css-loader-virtual-7bbc6152a4/0/cache/css-loader-npm-5.0.2-6a3081b49c-ae2351ce56.zip/node_modules/css-loader/dist/.yarn/cache/virtual-resource-loader-npm-1.0.0-3b4565a20a-6d7cbdb6e7.zip/node_modules/virtual-resource-loader/dist/.yarn/__virtual__/@vanilla-extract-webpack-plugin-virtual-832f9f74c4/0/cache/@vanilla-extract-webpack-plugin-npm-2.1.0-b6d0172bbb-3847b9539b.zip/node_modules/@vanilla-extract/webpack-plugin/extracted/dist/vanilla-extract-webpack-plugin-extracted.cjs.js","webpack://@karrotframe/navigator/../.yarn/__virtual__/@vanilla-extract-recipes-virtual-de3e94637d/0/cache/@vanilla-extract-recipes-npm-0.1.0-1bc85e35ca-51000edfac.zip/node_modules/@vanilla-extract/recipes/createRuntimeFn/dist/vanilla-extract-recipes-createRuntimeFn.esm.js","webpack://@karrotframe/navigator/./src/components/Card.css.ts","webpack://@karrotframe/navigator/./src/components/Card.translation.ts","webpack://@karrotframe/navigator/./src/assets/IconBack.tsx","webpack://@karrotframe/navigator/./src/assets/IconClose.tsx","webpack://@karrotframe/navigator/./src/assets/index.ts","webpack://@karrotframe/navigator/./src/Navigator.css.ts","webpack://@karrotframe/navigator/./src/components/Navbar.css.ts","webpack://@karrotframe/navigator/./src/components/Navbar.tsx","webpack://@karrotframe/navigator/./src/components/Card.tsx","webpack://@karrotframe/navigator/./src/components/Stack.useDepthChangeEffect.ts","webpack://@karrotframe/navigator/./src/components/Stack.usePush.ts","webpack://@karrotframe/navigator/./src/components/Stack.useInitialize.ts","webpack://@karrotframe/navigator/./src/components/Stack.usePop.ts","webpack://@karrotframe/navigator/./src/components/Stack.useInitializeHistoryPopEffect.ts","webpack://@karrotframe/navigator/./src/components/Stack.useInitializeHistoryPushEffect.ts","webpack://@karrotframe/navigator/./src/components/Stack.useReplace.ts","webpack://@karrotframe/navigator/./src/components/Stack.useInitializeHistoryReplaceEffect.ts","webpack://@karrotframe/navigator/./src/components/Stack.tsx","webpack://@karrotframe/navigator/./src/Navigator.tsx","webpack://@karrotframe/navigator/./src/Screen.tsx","webpack://@karrotframe/navigator/./src/ScreenHelmet.tsx","webpack://@karrotframe/navigator/./src/useCurrentScreen.ts","webpack://@karrotframe/navigator/./src/useParams.ts","webpack://@karrotframe/navigator/./src/useQueryParams.ts","webpack://@karrotframe/navigator/./src/index.ts","webpack://@karrotframe/navigator/external \"@vanilla-extract/dynamic\"","webpack://@karrotframe/navigator/external \"react\"","webpack://@karrotframe/navigator/external \"react-fast-compare\"","webpack://@karrotframe/navigator/external \"react-router-dom\"","webpack://@karrotframe/navigator/external \"react-transition-group\"","webpack://@karrotframe/navigator/external \"zenscroll\"","webpack://@karrotframe/navigator/webpack/bootstrap","webpack://@karrotframe/navigator/webpack/runtime/compat get default export","webpack://@karrotframe/navigator/webpack/runtime/define property getters","webpack://@karrotframe/navigator/webpack/runtime/hasOwnProperty shorthand","webpack://@karrotframe/navigator/webpack/runtime/make namespace object","webpack://@karrotframe/navigator/webpack/startup"],"names":["createStore","initialState","_state","_listenerIdx","createListenerIdx","_listeners","getState","setState","setter","prevState","state","Object","values","map","fn","listen","idx","dispose","StoreContext","createContext","StoreProvider","props","store","useMemo","screens","screenInstances","screenInstancePtr","screenInstanceOptions","screenInstancePromises","children","useStore","useContext","useStoreSelector","selector","useState","value","setValue","useEffect","nextState","prevValue","nextValue","compare","useStoreActions","registerScreen","useCallback","screen","id","unregister","undefined","addScreenInstanceOption","screenInstanceId","screenInstanceOption","addScreenInstancePromise","screenInstancePromise","mapScreenInstance","ptr","mapper","si","i","insertScreenInstance","screenInstance","filter","_","nestedRouteCount","increaseScreenInstancePtr","setScreenInstancePtr","NodeRef","nodeRef","useRef","ContextScreenInstance","ScreenInstanceProvider","Provider","useScreenInstance","ContextScreenInstanceSetNavbar","ScreenInstanceSetNavbarProvider","useScreenInstanceSetNavbar","NavigatorParamKeys","getNavigatorParams","searchParams","get","SCREEN_INSTANCE_ID","present","PRESENT","useHistoryPopEffect","callbacks","deps","history","useHistory","location","useLocation","locationKeyStack","current","length","search","URLSearchParams","pathname","action","locationKey","push","findIndex","key","depth","backward","forward","useHistoryPushEffect","callback","useHistoryReplaceEffect","UniqueIdContext","UniqueIdProvider","useReducer","counter","increase","useUniqueId","uid","String","useNavigator","screenInfo","to","options","Promise","resolve","URL","set","popped","toString","replace","animate","pop","targetScreenInstance","backwardCount","reduce","acc","targetPromise","_data","send","data","then","go","MAX_FRAME_OFFSET","css","raw","makeTranslation","$dim","$frame","$frameOffset","_rAFLock","translate","dx","force","onAnimationFrame","requestAnimationFrame","p","clientWidth","style","cssText","resetTranslation","IconBack","className","IconClose","Navbar","android","theme","cupertino","centerMainWidth","setCenterMainWidth","navbarRef","centerRef","$navbar","$center","onResize","screenWidth","leftWidth","offsetLeft","centerWidth","rightWidth","sideMargin","Math","max","window","addEventListener","removeEventListener","onBackClick","closeButton","onClose","isRoot","navbar","customCloseButton","closeButtonAriaLabel","svgIcon","backButton","customBackButton","backButtonAriaLabel","isPresent","isLeft","closeButtonLocation","appendLeft","noBorder","cupertinoAndIsNotPresent","assignInlineVars","vars","flex","left","androidAndIsLeft","title","centerMainText","onTopClick","appendRight","Card","setPopped","dimRef","frameRef","frameOffsetRef","beforeTopFrameOffsetRef","edgeRef","$edge","x0","t0","x","resetState","onTouchStart","e","document","activeElement","touches","clientX","Date","now","onTouchMove","onTouchEnd","t","v","passive","disableScrollToTop","scroller","zenscroll","toY","isNavbarVisible","visible","container","cupertinoAndIsNavbarVisible","cupertinoAndIsPresent","androidAndIsNotTop","isTop","androidAndIsNavbarVisible","androidAndIsRoot","cupertinoAndIsNotTop","isBeforeTop","cupertinoAndIsNotRoot","useDepthChangeEffect","onDepthChange","usePush","screenId","as","nextPtr","useInitialize","__KARROTFRAME__","Error","matchScreen","find","matchPath","exact","path","usePop","targetScreenInstanceId","promise","useInitializeHistoryPopEffect","useInitializeHistoryPushEffect","useReplace","useInitializeHistoryReplaceEffect","Stack","screenInstanceIndex","animationDuration","enterActive","container_enterActive","enterDone","container_enterDone","exitActive","container_exitActive","exitDone","container_exitDone","DEFAULT_CUPERTINO_ANIMATION_DURATION","DEFAULT_ANDROID_ANIMATION_DURATION","Navigator","useCustomRouter","h","join","Screen","Component","component","console","warn","unregisterScreen","setNavbar","screenInstanceContext","ScreenHelmet","useCurrentScreen","useParams","params","useQueryParams","ignoreNestedRoutes","parse","prevParams","fromEntries","entries","queryParams"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@vanilla-extract/dynamic\"), require(\"react\"), require(\"react-fast-compare\"), require(\"react-router-dom\"), require(\"react-transition-group\"), require(\"zenscroll\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@vanilla-extract/dynamic\", \"react\", \"react-fast-compare\", \"react-router-dom\", \"react-transition-group\", \"zenscroll\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"@vanilla-extract/dynamic\"), require(\"react\"), require(\"react-fast-compare\"), require(\"react-router-dom\"), require(\"react-transition-group\"), require(\"zenscroll\")) : factory(root[\"@vanilla-extract/dynamic\"], root[\"react\"], root[\"react-fast-compare\"], root[\"react-router-dom\"], root[\"react-transition-group\"], root[\"zenscroll\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, function(__WEBPACK_EXTERNAL_MODULE__475__, __WEBPACK_EXTERNAL_MODULE__297__, __WEBPACK_EXTERNAL_MODULE__53__, __WEBPACK_EXTERNAL_MODULE__146__, __WEBPACK_EXTERNAL_MODULE__810__, __WEBPACK_EXTERNAL_MODULE__148__) {\nreturn ","type Listener<T extends {}> = (prevState: T, nextState: T) => void\n\nexport type Store<T extends {}> = {\n  getState(): T\n  setState(setter: (prevState: T) => T): void\n  listen(\n    fn: (prevState: T, nextState: T) => void,\n    execute?: boolean\n  ): () => void\n}\n\nexport function createStore<T extends {}>(initialState: () => T): Store<T> {\n  let _state = initialState()\n  let _listenerIdx = 1\n\n  function createListenerIdx() {\n    return (_listenerIdx += 1)\n  }\n\n  const _listeners: { [key: number]: Listener<T> } = {}\n\n  return {\n    getState() {\n      return _state\n    },\n    setState(setter: (prevState: T) => T) {\n      const prevState = _state\n      _state = setter(_state)\n      const state = _state\n\n      Object.values(_listeners).map((fn) => fn(prevState, state))\n    },\n    listen(fn: (prevState: T, nextState: T) => void) {\n      const idx = createListenerIdx()\n\n      _listeners[idx] = fn\n\n      function dispose() {\n        delete _listeners[idx]\n      }\n\n      return dispose\n    },\n  }\n}\n","import React, {\n  createContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react'\nimport compare from 'react-fast-compare'\n\nimport { createStore, Store } from './createStore'\n\nexport interface IScreen {\n  id: string\n  path: string\n  Component: React.FC<{\n    screenInstanceId: string\n    as: string\n    isTop: boolean\n    isRoot: boolean\n  }>\n}\n\nexport interface IScreenInstance {\n  id: string\n  screenId: string\n  nestedRouteCount: number\n  present: boolean\n  as: string\n}\n\nexport interface IScreenInstanceOption {\n  navbar: INavbarOptions\n}\n\nexport interface INavbarOptions {\n  visible: boolean\n  title: React.ReactNode | null\n  appendLeft: React.ReactNode | null\n  appendRight: React.ReactNode | null\n  closeButtonLocation: 'left' | 'right'\n  customBackButton: React.ReactNode | null\n  customCloseButton: React.ReactNode | null\n  disableScrollToTop: boolean\n  noBorder: boolean\n  onTopClick?: () => void\n}\n\nexport interface IScreenInstancePromise {\n  resolve: (data: any | null) => void\n  popped: boolean\n}\n\nexport interface GlobalState {\n  screens: {\n    [screenId: string]: IScreen | undefined\n  }\n  screenInstances: IScreenInstance[]\n  screenInstancePtr: number\n  screenInstanceOptions: {\n    [screenInstanceId: string]: IScreenInstanceOption | undefined\n  }\n  screenInstancePromises: {\n    [screenInstanceId: string]: IScreenInstancePromise | undefined\n  }\n}\n\nconst StoreContext = createContext<Store<GlobalState>>(null as any)\n\nexport const StoreProvider: React.FC = (props) => {\n  const store = useMemo(\n    () =>\n      createStore<GlobalState>(() => ({\n        screens: {},\n        screenInstances: [],\n        screenInstancePtr: -1,\n        screenInstanceOptions: {},\n        screenInstancePromises: {},\n      })),\n    []\n  )\n\n  return (\n    <StoreContext.Provider value={store}>\n      {props.children}\n    </StoreContext.Provider>\n  )\n}\n\nexport function useStore() {\n  return useContext(StoreContext)\n}\n\nexport function useStoreSelector<V>(selector: (state: GlobalState) => V): V {\n  const store = useStore()\n  const [value, setValue] = useState(() => selector(store.getState()))\n\n  useEffect(() => {\n    const fn = (prevState: GlobalState | null, nextState: GlobalState) => {\n      const prevValue = prevState && selector(prevState)\n      const nextValue = selector(nextState)\n\n      if (\n        (prevValue && !compare(prevValue, nextValue)) ||\n        !compare(value, nextValue)\n      ) {\n        setValue(nextValue)\n      }\n    }\n\n    fn(null, store.getState())\n    const dispose = store.listen(fn, true)\n\n    return () => {\n      dispose()\n    }\n  }, [store, selector, setValue])\n\n  return value\n}\n\nexport function useStoreActions() {\n  const store = useStore()\n\n  const registerScreen = useCallback(\n    ({ screen }: { screen: IScreen }) => {\n      store.setState((prevState) => ({\n        ...prevState,\n        screens: {\n          ...prevState.screens,\n          [screen.id]: screen,\n        },\n      }))\n\n      return function unregister() {\n        store.setState((prevState) => ({\n          ...prevState,\n          screens: {\n            ...prevState.screens,\n            [screen.id]: undefined,\n          },\n        }))\n      }\n    },\n    [store]\n  )\n\n  const addScreenInstanceOption = useCallback(\n    ({\n      screenInstanceId,\n      screenInstanceOption,\n    }: {\n      screenInstanceId: string\n      screenInstanceOption: IScreenInstanceOption\n    }) => {\n      store.setState((prevState) => ({\n        ...prevState,\n        screenInstanceOptions: {\n          ...prevState.screenInstanceOptions,\n          [screenInstanceId]: screenInstanceOption,\n        },\n      }))\n    },\n    [store]\n  )\n\n  const addScreenInstancePromise = useCallback(\n    ({\n      screenInstanceId,\n      screenInstancePromise,\n    }: {\n      screenInstanceId: string\n      screenInstancePromise: IScreenInstancePromise\n    }) => {\n      store.setState((prevState) => ({\n        ...prevState,\n        screenInstancePromises: {\n          ...prevState.screenInstancePromises,\n          [screenInstanceId]: screenInstancePromise,\n        },\n      }))\n    },\n    [store]\n  )\n\n  const mapScreenInstance = useCallback(\n    ({\n      ptr,\n      mapper,\n    }: {\n      ptr: number\n      mapper: (screenInstance: IScreenInstance) => IScreenInstance\n    }) => {\n      store.setState((prevState) => ({\n        ...prevState,\n        screenInstances: prevState.screenInstances.map((si, i) =>\n          i === ptr ? mapper(si) : si\n        ),\n      }))\n    },\n    [store]\n  )\n\n  const insertScreenInstance = useCallback(\n    ({\n      ptr,\n      screenInstance,\n    }: {\n      ptr: number\n      screenInstance: {\n        id: string\n        screenId: string\n        present: boolean\n        as: string\n      }\n    }) => {\n      store.setState((prevState) => ({\n        ...prevState,\n        screenInstances: [\n          ...prevState.screenInstances.filter((_, i) => i <= ptr),\n          {\n            ...screenInstance,\n            nestedRouteCount: 0,\n          },\n        ],\n      }))\n    },\n    [store]\n  )\n\n  const increaseScreenInstancePtr = useCallback(() => {\n    store.setState((prevState) => ({\n      ...prevState,\n      screenInstancePtr: prevState.screenInstancePtr + 1,\n    }))\n  }, [store])\n\n  const setScreenInstancePtr = useCallback(\n    ({ ptr }: { ptr: number }) => {\n      store.setState((prevState) => ({\n        ...prevState,\n        screenInstancePtr: ptr,\n      }))\n    },\n    [store]\n  )\n\n  return useMemo(\n    () => ({\n      registerScreen,\n      addScreenInstanceOption,\n      addScreenInstancePromise,\n      mapScreenInstance,\n      insertScreenInstance,\n      increaseScreenInstancePtr,\n      setScreenInstancePtr,\n    }),\n    [\n      registerScreen,\n      addScreenInstanceOption,\n      addScreenInstancePromise,\n      mapScreenInstance,\n      insertScreenInstance,\n      increaseScreenInstancePtr,\n      setScreenInstancePtr,\n    ]\n  )\n}\n","import React, { useRef } from 'react'\n\ninterface INodeRefProps<T> {\n  children: (nodeRef: React.RefObject<T>) => React.ReactNode\n}\nconst NodeRef = <T extends unknown>(props: INodeRefProps<T>) => {\n  const nodeRef = useRef<T>(null)\n  return <>{props.children(nodeRef)}</>\n}\n\nexport default NodeRef\n","import { createContext, useContext } from 'react'\n\nexport const ContextScreenInstance = createContext<{\n  screenInstanceId: string\n  path: string\n  as: string\n  isTop: boolean\n  isRoot: boolean\n}>(null as any)\n\nexport const ScreenInstanceProvider = ContextScreenInstance.Provider\n\nexport function useScreenInstance() {\n  return useContext(ContextScreenInstance)\n}\n","import { createContext, useContext } from 'react'\n\nimport { INavbarOptions } from '../store'\n\nexport const ContextScreenInstanceSetNavbar = createContext<\n  (navbar: INavbarOptions) => void\n>(null as any)\n\nexport const ScreenInstanceSetNavbarProvider =\n  ContextScreenInstanceSetNavbar.Provider\n\nexport function useScreenInstanceSetNavbar() {\n  return useContext(ContextScreenInstanceSetNavbar)\n}\n","export * from './ContextScreenInstance'\nexport * from './ContextScreenInstanceSetNavbar'\n","export enum NavigatorParamKeys {\n  SCREEN_INSTANCE_ID = '_si',\n  PRESENT = '_present',\n}\n\nexport interface INavigatorParams {\n  screenInstanceId: string | null\n  present: boolean\n}\n\nexport function getNavigatorParams(\n  searchParams: URLSearchParams\n): INavigatorParams {\n  return {\n    screenInstanceId: searchParams.get(NavigatorParamKeys.SCREEN_INSTANCE_ID),\n    present: searchParams.get(NavigatorParamKeys.PRESENT) === 'true',\n  }\n}\n","import { Action, Location } from 'history'\nimport { DependencyList, useEffect, useRef } from 'react'\nimport { useHistory, useLocation } from 'react-router-dom'\n\nimport { getNavigatorParams } from '../helpers'\n\nexport function useHistoryPopEffect(\n  callbacks: {\n    forward: (location: Location<unknown>, action: Action) => void\n    backward: (\n      location: Location<unknown>,\n      action: Action,\n      depth: number\n    ) => void\n  },\n  deps?: DependencyList | undefined\n) {\n  const history = useHistory()\n  const location = useLocation()\n\n  const locationKeyStack = useRef<string[]>([])\n\n  useEffect(() => {\n    if (locationKeyStack.current.length > 0 || !location.search) {\n      return\n    }\n\n    const searchParams = new URLSearchParams(location.search)\n    const { screenInstanceId } = getNavigatorParams(searchParams)\n    if (!screenInstanceId) {\n      return\n    }\n\n    locationKeyStack.current = [location.pathname + location.search]\n  }, [location.search])\n\n  useEffect(() => {\n    return history.listen((location, action) => {\n      const locationKey = location.pathname + location.search\n\n      switch (action) {\n        case 'PUSH': {\n          if (\n            locationKeyStack.current[locationKeyStack.current.length - 1] !==\n            locationKey\n          ) {\n            locationKeyStack.current.push(locationKey)\n          }\n          break\n        }\n        case 'REPLACE': {\n          locationKeyStack.current[locationKeyStack.current.length - 1] =\n            locationKey\n          break\n        }\n        case 'POP': {\n          const ptr = locationKeyStack.current.findIndex(\n            (key) => key === locationKey\n          )\n          if (ptr > -1) {\n            const depth = locationKeyStack.current.length - ptr\n            locationKeyStack.current = locationKeyStack.current.filter(\n              (_, idx) => idx <= ptr\n            )\n            callbacks.backward?.(location, action, depth)\n          } else {\n            locationKeyStack.current.push(locationKey)\n            callbacks.forward?.(location, action)\n          }\n        }\n      }\n    })\n  }, deps)\n}\n\nexport function useHistoryPushEffect(\n  callback: (location: Location<unknown>, action: Action) => void,\n  deps?: DependencyList | undefined\n) {\n  const history = useHistory()\n  const location = useLocation()\n  const locationKeyStack = useRef<string[]>([])\n\n  useEffect(() => {\n    locationKeyStack.current = [location.pathname + location.search]\n  }, [])\n\n  useEffect(() => {\n    return history.listen((location, action) => {\n      const locationKey = location.pathname + location.search\n\n      switch (action) {\n        case 'PUSH': {\n          if (\n            locationKeyStack.current[locationKeyStack.current.length - 1] !==\n            locationKey\n          ) {\n            locationKeyStack.current.push(locationKey)\n            callback(location, action)\n          }\n          break\n        }\n        case 'REPLACE': {\n          locationKeyStack.current[locationKeyStack.current.length - 1] =\n            locationKey\n          break\n        }\n        case 'POP': {\n          const ptr = locationKeyStack.current.findIndex(\n            (key) => key === locationKey\n          )\n          if (ptr > -1) {\n            locationKeyStack.current = locationKeyStack.current.filter(\n              (_, idx) => idx <= ptr\n            )\n          } else {\n            locationKeyStack.current.push(locationKey)\n          }\n        }\n      }\n    })\n  }, deps)\n}\n\nexport function useHistoryReplaceEffect(\n  callback: (location: Location<unknown>, action: Action) => void,\n  deps?: DependencyList | undefined\n) {\n  const history = useHistory()\n\n  useEffect(() => {\n    return history.listen((location, action) => {\n      if (action === 'REPLACE') {\n        callback(location, action)\n      }\n    })\n  }, deps)\n}\n","import React, {\n  createContext,\n  useCallback,\n  useContext,\n  useMemo,\n  useReducer,\n} from 'react'\n\nconst UniqueIdContext = createContext<{\n  counter: number\n  increase: () => void\n}>(null as any)\n\nexport const UniqueIdProvider: React.FC = (props) => {\n  const [counter, increase] = useReducer((i) => i + 1, 0)\n\n  return (\n    <UniqueIdContext.Provider\n      value={useMemo(\n        () => ({\n          counter,\n          increase,\n        }),\n        [counter, increase]\n      )}\n    >\n      {props.children}\n    </UniqueIdContext.Provider>\n  )\n}\n\nexport function useUniqueId() {\n  const { counter, increase } = useContext(UniqueIdContext)\n\n  const uid = useCallback(() => {\n    increase()\n    return String(counter)\n  }, [counter, increase])\n\n  return useMemo(\n    () => ({\n      uid,\n    }),\n    [uid]\n  )\n}\n","export * from './useHistoryEffect'\nexport * from './useUniqueId'\n","import { useCallback, useMemo } from 'react'\nimport { useHistory, useLocation } from 'react-router-dom'\n\nimport { useScreenInstance } from './contexts'\nimport { getNavigatorParams, NavigatorParamKeys } from './helpers'\nimport { useUniqueId } from './hooks'\nimport { useStore, useStoreActions } from './store'\n\nexport function useNavigator() {\n  const history = useHistory()\n  const location = useLocation()\n  const screenInfo = useScreenInstance()\n  const { uid } = useUniqueId()\n\n  const store = useStore()\n  const { addScreenInstancePromise } = useStoreActions()\n\n  const searchParams = new URLSearchParams(location.search)\n  const { present, screenInstanceId } = getNavigatorParams(searchParams)\n\n  const push = useCallback(\n    <T = object>(\n      to: string,\n      options?: {\n        /**\n         * Bottom to top animation (iOS only)\n         */\n        present?: boolean\n      }\n    ): Promise<T | null> =>\n      new Promise((resolve) => {\n        const { pathname, searchParams } = new URL(to, /* dummy */ 'file://')\n\n        searchParams.set(NavigatorParamKeys.SCREEN_INSTANCE_ID, uid())\n\n        if (options?.present) {\n          searchParams.set(NavigatorParamKeys.PRESENT, 'true')\n        }\n\n        addScreenInstancePromise({\n          screenInstanceId: screenInfo.screenInstanceId,\n          screenInstancePromise: {\n            resolve,\n            popped: false,\n          },\n        })\n\n        history.push(`${pathname}?${searchParams.toString()}`)\n      }),\n    [screenInfo, history]\n  )\n\n  const replace = useCallback(\n    (\n      to: string,\n      options?: {\n        /**\n         * Animate when replaced\n         */\n        animate?: boolean\n      }\n    ) => {\n      const { pathname, searchParams } = new URL(to, /* dummy */ 'file://')\n\n      if (options?.animate) {\n        searchParams.set(NavigatorParamKeys.SCREEN_INSTANCE_ID, uid())\n      } else {\n        if (screenInstanceId) {\n          searchParams.set(\n            NavigatorParamKeys.SCREEN_INSTANCE_ID,\n            screenInstanceId\n          )\n        }\n        if (present) {\n          searchParams.set(NavigatorParamKeys.PRESENT, 'true')\n        }\n      }\n\n      history.replace(`${pathname}?${searchParams.toString()}`)\n    },\n    [history, screenInstanceId, present]\n  )\n\n  const pop = useCallback(\n    (depth = 1) => {\n      const { screenInstances, screenInstancePtr, screenInstancePromises } =\n        store.getState()\n\n      const targetScreenInstance = screenInstances[screenInstancePtr - depth]\n\n      const backwardCount = screenInstances\n        .filter(\n          (_, idx) =>\n            idx > screenInstancePtr - depth && idx <= screenInstancePtr\n        )\n        .map((screenInstance) => screenInstance.nestedRouteCount)\n        .reduce((acc, current) => acc + current + 1, 0)\n\n      const targetPromise =\n        targetScreenInstance && screenInstancePromises[targetScreenInstance.id]\n      let _data: any = null\n\n      const dispose = history.listen(() => {\n        dispose()\n\n        if (targetScreenInstance) {\n          targetPromise?.resolve(_data ?? null)\n        }\n      })\n\n      /**\n       * Send data to `await push()`\n       */\n      function send<T = object>(\n        /**\n         * Payload\n         */\n        data: T\n      ) {\n        _data = data\n\n        if (targetPromise) {\n          targetPromise.popped = true\n        }\n      }\n\n      Promise.resolve().then(() => {\n        history.go(-backwardCount)\n      })\n\n      return {\n        send,\n      }\n    },\n    [history]\n  )\n\n  return useMemo(\n    () => ({\n      push,\n      replace,\n      pop,\n    }),\n    [push, replace, pop]\n  )\n}\n","// extracted by mini-css-extract-plugin\nexport {};","const shouldApplyCompound = (compoundCheck, selections) => {\n  for (const key of Object.keys(compoundCheck)) {\n    if (compoundCheck[key] !== selections[key]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nconst createRuntimeFn = config => options => {\n  let className = config.defaultClassName; // @ts-expect-error\n\n  const selections = { ...config.defaultVariants,\n    ...options\n  };\n\n  for (const variantName in selections) {\n    const variantSelection = selections[variantName];\n\n    if (variantSelection) {\n      className += ` ${// @ts-expect-error\n      config.variantClassNames[variantName][variantSelection === true ? 'true' : variantSelection]}`;\n    }\n  }\n\n  for (const [compoundCheck, compoundClassName] of config.compoundVariants) {\n    if (shouldApplyCompound(compoundCheck, selections)) {\n      className += ` ${compoundClassName}`;\n    }\n  }\n\n  return className;\n};\n\nexport { createRuntimeFn };\n","import \"@karrotframe/navigator/src/Navigator.css.ts.vanilla.css!=!../../../../.yarn/cache/virtual-resource-loader-npm-1.0.0-3b4565a20a-6d7cbdb6e7.zip/node_modules/virtual-resource-loader/dist/virtual-resource-loader.cjs.js?{\\\"source\\\":\\\"LmhpamUxZDAgewogIC0ta2ZfbmF2aWdhdG9yX2JhY2tncm91bmRDb2xvcjogI2ZmZjsKICAtLWtmX25hdmlnYXRvcl9kaW1CYWNrZ3JvdW5kQ29sb3I6IHJnYmEoMCwgMCwgMCwgMC4xNSk7CiAgLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWljb25Db2xvcjogIzIxMjUyOTsKICAtLWtmX25hdmlnYXRvcl9uYXZiYXItYm9yZGVyQ29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wNyk7CiAgLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWJvcmRlclNpemU6IDFweDsKICAtLWtmX25hdmlnYXRvcl9uYXZiYXItaGVpZ2h0OiAzLjVyZW07CiAgLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWNlbnRlci10ZXh0Q29sb3I6ICMyMTI1Mjk7CiAgLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWNlbnRlci1tYWluV2lkdGg6IDsKICAtLWtmX25hdmlnYXRvcl9hbmltYXRpb25EdXJhdGlvbjogOwp9Ci5oaWplMWQxIHsKICAtLWtmX25hdmlnYXRvcl9iYWNrZ3JvdW5kQ29sb3I6ICNmZmY7CiAgLS1rZl9uYXZpZ2F0b3JfZGltQmFja2dyb3VuZENvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMTUpOwogIC0ta2ZfbmF2aWdhdG9yX25hdmJhci1pY29uQ29sb3I6ICMyMTI1Mjk7CiAgLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWJvcmRlckNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMTIpOwogIC0ta2ZfbmF2aWdhdG9yX25hdmJhci1ib3JkZXJTaXplOiAwLjVweDsKICAtLWtmX25hdmlnYXRvcl9uYXZiYXItaGVpZ2h0OiAyLjc1cmVtOwogIC0ta2ZfbmF2aWdhdG9yX25hdmJhci1jZW50ZXItdGV4dENvbG9yOiAjMjEyNTI5OwogIC0ta2ZfbmF2aWdhdG9yX25hdmJhci1jZW50ZXItbWFpbldpZHRoOiA7CiAgLS1rZl9uYXZpZ2F0b3JfYW5pbWF0aW9uRHVyYXRpb246IDsKfQouaGlqZTFkMiB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIG92ZXJmbG93OiBoaWRkZW47CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHVzZXItc2VsZWN0OiBub25lOwp9\\\"}!../../../../.yarn/__virtual__/@vanilla-extract-webpack-plugin-virtual-832f9f74c4/0/cache/@vanilla-extract-webpack-plugin-npm-2.1.0-b6d0172bbb-3847b9539b.zip/node_modules/@vanilla-extract/webpack-plugin/extracted/dist/vanilla-extract-webpack-plugin-extracted.cjs.js\"\nimport \"@karrotframe/navigator/src/components/Card.css.ts.vanilla.css!=!../../../../.yarn/cache/virtual-resource-loader-npm-1.0.0-3b4565a20a-6d7cbdb6e7.zip/node_modules/virtual-resource-loader/dist/virtual-resource-loader.cjs.js?{\\\"source\\\":\\\"Ll8xb2s5cnVsMCB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogMDsKICBsZWZ0OiAwOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBvdmVyZmxvdzogaGlkZGVuOwp9Ci5fMW9rOXJ1bDEgewogIGRpc3BsYXk6IGJsb2NrOwp9Ci5fMW9rOXJ1bDIgewogIGRpc3BsYXk6IGJsb2NrOwp9Ci5fMW9rOXJ1bDMgewogIGRpc3BsYXk6IGJsb2NrOwp9Ci5fMW9rOXJ1bDQgewogIGRpc3BsYXk6IGJsb2NrOwp9Ci5fMW9rOXJ1bDUgewogIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWtmX25hdmlnYXRvcl9kaW1CYWNrZ3JvdW5kQ29sb3IpOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDA7CiAgbGVmdDogMDsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgb3BhY2l0eTogMDsKICB3aWxsLWNoYW5nZTogb3BhY2l0eTsKICB0cmFuc2l0aW9uOiBvcGFjaXR5IHZhcigtLWtmX25hdmlnYXRvcl9hbmltYXRpb25EdXJhdGlvbik7Cn0KLl8xb2s5cnVsMSAuXzFvazlydWw1IHsKICBvcGFjaXR5OiAxOwp9Ci5fMW9rOXJ1bDIgLl8xb2s5cnVsNSB7CiAgb3BhY2l0eTogMTsKfQouXzFvazlydWwzIC5fMW9rOXJ1bDUgewogIG9wYWNpdHk6IDA7Cn0KLl8xb2s5cnVsNCAuXzFvazlydWw1IHsKICBvcGFjaXR5OiAwOwp9Ci5fMW9rOXJ1bDYgewogIHRvcDogdmFyKC0ta2ZfbmF2aWdhdG9yX25hdmJhci1oZWlnaHQpOwp9Ci5fMW9rOXJ1bDcgewogIHRvcDogMDsKfQouXzFvazlydWw4IHsKICBoZWlnaHQ6IDEwcmVtOwogIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh2YXIoLS1rZl9uYXZpZ2F0b3JfZGltQmFja2dyb3VuZENvbG9yKSwgcmdiYSgwLCAwLCAwLCAwKSk7Cn0KLl8xb2s5cnVsOSB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07CiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIHZhcigtLWtmX25hdmlnYXRvcl9hbmltYXRpb25EdXJhdGlvbik7Cn0KLl8xb2s5cnVsYSB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycmVtKTsKfQouXzFvazlydWxiIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAwOwogIGxlZnQ6IDA7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KLl8xb2s5cnVsYyB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwMCUpOwogIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07CiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIHZhcigtLWtmX25hdmlnYXRvcl9hbmltYXRpb25EdXJhdGlvbik7Cn0KLl8xb2s5cnVsMSAuXzFvazlydWxjIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7Cn0KLl8xb2s5cnVsMiAuXzFvazlydWxjIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7Cn0KLl8xb2s5cnVsMyAuXzFvazlydWxjIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTAwJSk7Cn0KLl8xb2s5cnVsNCAuXzFvazlydWxjIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTAwJSk7Cn0KLl8xb2s5cnVsZCB7CiAgcGFkZGluZy10b3A6IGNhbGModmFyKC0ta2ZfbmF2aWdhdG9yX25hdmJhci1oZWlnaHQpICsgZW52KHNhZmUtYXJlYS1pbnNldC10b3ApKTsKfQouXzFvazlydWxlIHsKICBvcGFjaXR5OiAwOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMHJlbSk7CiAgdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjIyLCAwLjY3LCAwLjM5LCAwLjgzKTsKICB3aWxsLWNoYW5nZTogdHJhbnNmb3JtLCBvcGFjaXR5OwogIHRyYW5zaXRpb246IHRyYW5zZm9ybSB2YXIoLS1rZl9uYXZpZ2F0b3JfYW5pbWF0aW9uRHVyYXRpb24pLCBvcGFjaXR5IHZhcigtLWtmX25hdmlnYXRvcl9hbmltYXRpb25EdXJhdGlvbik7Cn0KLl8xb2s5cnVsMSAuXzFvazlydWxlIHsKICBvcGFjaXR5OiAxOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsKfQouXzFvazlydWwyIC5fMW9rOXJ1bGUgewogIG9wYWNpdHk6IDE7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOwp9Ci5fMW9rOXJ1bDMgLl8xb2s5cnVsZSB7CiAgb3BhY2l0eTogMDsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTByZW0pOwp9Ci5fMW9rOXJ1bDQgLl8xb2s5cnVsZSB7CiAgb3BhY2l0eTogMDsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTByZW0pOwp9Ci5fMW9rOXJ1bGYgewogIHBhZGRpbmctdG9wOiB2YXIoLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWhlaWdodCk7Cn0KLl8xb2s5cnVsZyB7CiAgb3BhY2l0eTogMTsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7Cn0KLl8xb2s5cnVsaCB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07CiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIHZhcigtLWtmX25hdmlnYXRvcl9hbmltYXRpb25EdXJhdGlvbik7Cn0KLl8xb2s5cnVsMyAuXzFvazlydWxpIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7Cn0KLl8xb2s5cnVsNCAuXzFvazlydWxpIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7Cn0KLl8xb2s5cnVsaiB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01cmVtKTsKfQouXzFvazlydWxrIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgb3ZlcmZsb3cteTogc2Nyb2xsOwogIHNjcm9sbC1iZWhhdmlvcjogc21vb3RoOwogIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWtmX25hdmlnYXRvcl9iYWNrZ3JvdW5kQ29sb3IpOwogIC13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDsKfQouXzFvazlydWxsIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7CiAgd2lsbC1jaGFuZ2U6IHRyYW5zZm9ybTsKICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gdmFyKC0ta2ZfbmF2aWdhdG9yX2FuaW1hdGlvbkR1cmF0aW9uKTsKfQouXzFvazlydWxtIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7Cn0KLl8xb2s5cnVsbiB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOwp9Ci5fMW9rOXJ1bDEgLl8xb2s5cnVsbyB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOwp9Ci5fMW9rOXJ1bDIgLl8xb2s5cnVsbyB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOwp9Ci5fMW9rOXJ1bDMgLl8xb2s5cnVsbyB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpOwp9Ci5fMW9rOXJ1bDQgLl8xb2s5cnVsbyB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpOwp9Ci5fMW9rOXJ1bHAgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBsZWZ0OiAwOwogIGhlaWdodDogMTAwJTsKICB3aWR0aDogMS4yNXJlbTsKfQouXzFvazlydWxxIHsKICBkaXNwbGF5OiBibG9jazsKfQouXzFvazlydWxyIHsKICB0b3A6IDA7Cn0KLl8xb2s5cnVscyB7CiAgdG9wOiAyLjc1cmVtOwp9\\\"}!../../../../.yarn/__virtual__/@vanilla-extract-webpack-plugin-virtual-832f9f74c4/0/cache/@vanilla-extract-webpack-plugin-npm-2.1.0-b6d0172bbb-3847b9539b.zip/node_modules/@vanilla-extract/webpack-plugin/extracted/dist/vanilla-extract-webpack-plugin-extracted.cjs.js\"\nimport { createRuntimeFn as _7a468 } from '@vanilla-extract/recipes/createRuntimeFn';\nexport var container = '_1ok9rul0';\nexport var container_enterActive = '_1ok9rul1';\nexport var container_enterDone = '_1ok9rul2';\nexport var container_exitActive = '_1ok9rul3';\nexport var container_exitDone = '_1ok9rul4';\nexport var dim = _7a468({defaultClassName:'_1ok9rul5',variantClassNames:{cupertinoAndIsNavbarVisible:{true:'_1ok9rul6'},cupertinoAndIsPresent:{true:'_1ok9rul7'},android:{true:'_1ok9rul8'}},defaultVariants:undefined,compoundVariants:[]});\nexport var edge = _7a468({defaultClassName:'_1ok9rulp',variantClassNames:{isNavbarVisible:{true:'_1ok9rulq',false:'_1ok9rulr'},cupertinoAndIsNavbarVisible:{true:'_1ok9ruls'}},defaultVariants:undefined,compoundVariants:[]});\nexport var frame = _7a468({defaultClassName:'_1ok9rulk',variantClassNames:{cupertino:{true:'_1ok9rull'},cupertinoAndIsNotRoot:{true:'_1ok9rulm'},cupertinoAndIsPresent:{true:'_1ok9ruln'},cupertinoAndIsNotPresent:{true:'_1ok9rulo'}},defaultVariants:undefined,compoundVariants:[]});\nexport var frameOffset = _7a468({defaultClassName:'_1ok9rulh',variantClassNames:{cupertinoAndIsNotPresent:{true:'_1ok9ruli'},cupertinoAndIsNotTop:{true:'_1ok9rulj'}},defaultVariants:undefined,compoundVariants:[]});\nexport var main = _7a468({defaultClassName:'_1ok9rulb',variantClassNames:{cupertinoAndIsPresent:{true:'_1ok9rulc'},cupertinoAndIsNavbarVisible:{true:'_1ok9ruld'},android:{true:'_1ok9rule'},androidAndIsNavbarVisible:{true:'_1ok9rulf'},androidAndIsRoot:{true:'_1ok9rulg'}},defaultVariants:undefined,compoundVariants:[]});\nexport var mainOffset = _7a468({defaultClassName:'_1ok9rul9',variantClassNames:{androidAndIsNotTop:{true:'_1ok9rula'}},defaultVariants:undefined,compoundVariants:[]});","const MAX_FRAME_OFFSET = 80\n\nconst css = String.raw\n\nexport function makeTranslation({\n  $dim,\n  $frame,\n  $frameOffset,\n}: {\n  $dim: HTMLElement\n  $frame: HTMLElement\n  $frameOffset: HTMLElement\n}) {\n  let _rAFLock = false\n\n  return {\n    translate({\n      dx,\n      force,\n      onAnimationFrame,\n    }: {\n      dx: number\n      force?: boolean\n      onAnimationFrame?: (dx: number) => void\n    }) {\n      if (force || !_rAFLock) {\n        _rAFLock = true\n\n        requestAnimationFrame(() => {\n          const p = dx / $frame.clientWidth\n\n          $dim.style.cssText = css`\n            opacity: ${1 - p};\n            transition: opacity 0s;\n          `\n          $frame.style.cssText = css`\n            overflow-y: hidden;\n            transform: translateX(${dx}px);\n            transition: transform 0s;\n          `\n          $frameOffset.style.cssText = css`\n            transform: translateX(${-1 * (1 - p) * MAX_FRAME_OFFSET}px);\n            transition: transform 0s;\n          `\n\n          onAnimationFrame?.(dx)\n          _rAFLock = false\n        })\n      }\n    },\n    resetTranslation() {\n      requestAnimationFrame(() => {\n        $dim.style.cssText = ''\n        $frame.style.cssText = ''\n        $frameOffset.style.cssText = ''\n      })\n    },\n  }\n}\n","import React from 'react'\n\nconst IconBack: React.FC<{\n  className?: string\n}> = (props) => {\n  return (\n    <svg\n      className={props.className}\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M11.5659 5.56564C11.8783 5.25322 11.8783 4.74669 11.5659 4.43427C11.2535 4.12185 10.7469 4.12185 10.4345 4.43427L3.43451 11.4343C3.12209 11.7467 3.12209 12.2532 3.43451 12.5656L10.4345 19.5656C10.7469 19.8781 11.2535 19.8781 11.5659 19.5656C11.8783 19.2532 11.8783 18.7467 11.5659 18.4343L5.93157 12.8H20.0002C20.442 12.8 20.8002 12.4418 20.8002 12C20.8002 11.5581 20.442 11.2 20.0002 11.2H5.93157L11.5659 5.56564Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  )\n}\n\nexport default IconBack\n","import React from 'react'\n\nconst IconClose: React.FC<{\n  className?: string\n}> = (props) => {\n  return (\n    <svg\n      className={props.className}\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M6.56588 5.43433C6.25346 5.12191 5.74693 5.12191 5.43451 5.43433C5.12209 5.74675 5.12209 6.25328 5.43451 6.5657L10.8688 12L5.43451 17.4343C5.12209 17.7467 5.12209 18.2533 5.43451 18.5657C5.74693 18.8781 6.25346 18.8781 6.56588 18.5657L12.0002 13.1314L17.4345 18.5657C17.7469 18.8781 18.2535 18.8781 18.5659 18.5657C18.8783 18.2533 18.8783 17.7467 18.5659 17.4343L13.1316 12L18.5659 6.5657C18.8783 6.25328 18.8783 5.74675 18.5659 5.43433C18.2535 5.12191 17.7469 5.12191 17.4345 5.43433L12.0002 10.8686L6.56588 5.43433Z\"\n        fill=\"currentColor\"\n      />\n      <path\n        d=\"M6.56588 5.43433C6.25346 5.12191 5.74693 5.12191 5.43451 5.43433C5.12209 5.74675 5.12209 6.25328 5.43451 6.5657L10.8688 12L5.43451 17.4343C5.12209 17.7467 5.12209 18.2533 5.43451 18.5657C5.74693 18.8781 6.25346 18.8781 6.56588 18.5657L12.0002 13.1314L17.4345 18.5657C17.7469 18.8781 18.2535 18.8781 18.5659 18.5657C18.8783 18.2533 18.8783 17.7467 18.5659 17.4343L13.1316 12L18.5659 6.5657C18.8783 6.25328 18.8783 5.74675 18.5659 5.43433C18.2535 5.12191 17.7469 5.12191 17.4345 5.43433L12.0002 10.8686L6.56588 5.43433Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  )\n}\n\nexport default IconClose\n","export { default as IconBack } from './IconBack'\nexport { default as IconClose } from './IconClose'\n","import \"@karrotframe/navigator/src/Navigator.css.ts.vanilla.css!=!../../../.yarn/cache/virtual-resource-loader-npm-1.0.0-3b4565a20a-6d7cbdb6e7.zip/node_modules/virtual-resource-loader/dist/virtual-resource-loader.cjs.js?{\\\"source\\\":\\\"LmhpamUxZDAgewogIC0ta2ZfbmF2aWdhdG9yX2JhY2tncm91bmRDb2xvcjogI2ZmZjsKICAtLWtmX25hdmlnYXRvcl9kaW1CYWNrZ3JvdW5kQ29sb3I6IHJnYmEoMCwgMCwgMCwgMC4xNSk7CiAgLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWljb25Db2xvcjogIzIxMjUyOTsKICAtLWtmX25hdmlnYXRvcl9uYXZiYXItYm9yZGVyQ29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wNyk7CiAgLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWJvcmRlclNpemU6IDFweDsKICAtLWtmX25hdmlnYXRvcl9uYXZiYXItaGVpZ2h0OiAzLjVyZW07CiAgLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWNlbnRlci10ZXh0Q29sb3I6ICMyMTI1Mjk7CiAgLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWNlbnRlci1tYWluV2lkdGg6IDsKICAtLWtmX25hdmlnYXRvcl9hbmltYXRpb25EdXJhdGlvbjogOwp9Ci5oaWplMWQxIHsKICAtLWtmX25hdmlnYXRvcl9iYWNrZ3JvdW5kQ29sb3I6ICNmZmY7CiAgLS1rZl9uYXZpZ2F0b3JfZGltQmFja2dyb3VuZENvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMTUpOwogIC0ta2ZfbmF2aWdhdG9yX25hdmJhci1pY29uQ29sb3I6ICMyMTI1Mjk7CiAgLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWJvcmRlckNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMTIpOwogIC0ta2ZfbmF2aWdhdG9yX25hdmJhci1ib3JkZXJTaXplOiAwLjVweDsKICAtLWtmX25hdmlnYXRvcl9uYXZiYXItaGVpZ2h0OiAyLjc1cmVtOwogIC0ta2ZfbmF2aWdhdG9yX25hdmJhci1jZW50ZXItdGV4dENvbG9yOiAjMjEyNTI5OwogIC0ta2ZfbmF2aWdhdG9yX25hdmJhci1jZW50ZXItbWFpbldpZHRoOiA7CiAgLS1rZl9uYXZpZ2F0b3JfYW5pbWF0aW9uRHVyYXRpb246IDsKfQouaGlqZTFkMiB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIG92ZXJmbG93OiBoaWRkZW47CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHVzZXItc2VsZWN0OiBub25lOwp9\\\"}!../../../.yarn/__virtual__/@vanilla-extract-webpack-plugin-virtual-832f9f74c4/0/cache/@vanilla-extract-webpack-plugin-npm-2.1.0-b6d0172bbb-3847b9539b.zip/node_modules/@vanilla-extract/webpack-plugin/extracted/dist/vanilla-extract-webpack-plugin-extracted.cjs.js\"\nimport { createRuntimeFn as _7a468 } from '@vanilla-extract/recipes/createRuntimeFn';\nexport var root = _7a468({defaultClassName:'hije1d2',variantClassNames:{theme:{Android:'hije1d0',Cupertino:'hije1d1'}},defaultVariants:undefined,compoundVariants:[]});\nexport var vars = {backgroundColor:'var(--kf_navigator_backgroundColor)',dimBackgroundColor:'var(--kf_navigator_dimBackgroundColor)',navbar:{iconColor:'var(--kf_navigator_navbar-iconColor)',borderColor:'var(--kf_navigator_navbar-borderColor)',borderSize:'var(--kf_navigator_navbar-borderSize)',height:'var(--kf_navigator_navbar-height)',center:{textColor:'var(--kf_navigator_navbar-center-textColor)',mainWidth:'var(--kf_navigator_navbar-center-mainWidth)'}},animationDuration:'var(--kf_navigator_animationDuration)'};","import \"@karrotframe/navigator/src/Navigator.css.ts.vanilla.css!=!../../../../.yarn/cache/virtual-resource-loader-npm-1.0.0-3b4565a20a-6d7cbdb6e7.zip/node_modules/virtual-resource-loader/dist/virtual-resource-loader.cjs.js?{\\\"source\\\":\\\"LmhpamUxZDAgewogIC0ta2ZfbmF2aWdhdG9yX2JhY2tncm91bmRDb2xvcjogI2ZmZjsKICAtLWtmX25hdmlnYXRvcl9kaW1CYWNrZ3JvdW5kQ29sb3I6IHJnYmEoMCwgMCwgMCwgMC4xNSk7CiAgLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWljb25Db2xvcjogIzIxMjUyOTsKICAtLWtmX25hdmlnYXRvcl9uYXZiYXItYm9yZGVyQ29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wNyk7CiAgLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWJvcmRlclNpemU6IDFweDsKICAtLWtmX25hdmlnYXRvcl9uYXZiYXItaGVpZ2h0OiAzLjVyZW07CiAgLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWNlbnRlci10ZXh0Q29sb3I6ICMyMTI1Mjk7CiAgLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWNlbnRlci1tYWluV2lkdGg6IDsKICAtLWtmX25hdmlnYXRvcl9hbmltYXRpb25EdXJhdGlvbjogOwp9Ci5oaWplMWQxIHsKICAtLWtmX25hdmlnYXRvcl9iYWNrZ3JvdW5kQ29sb3I6ICNmZmY7CiAgLS1rZl9uYXZpZ2F0b3JfZGltQmFja2dyb3VuZENvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMTUpOwogIC0ta2ZfbmF2aWdhdG9yX25hdmJhci1pY29uQ29sb3I6ICMyMTI1Mjk7CiAgLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWJvcmRlckNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMTIpOwogIC0ta2ZfbmF2aWdhdG9yX25hdmJhci1ib3JkZXJTaXplOiAwLjVweDsKICAtLWtmX25hdmlnYXRvcl9uYXZiYXItaGVpZ2h0OiAyLjc1cmVtOwogIC0ta2ZfbmF2aWdhdG9yX25hdmJhci1jZW50ZXItdGV4dENvbG9yOiAjMjEyNTI5OwogIC0ta2ZfbmF2aWdhdG9yX25hdmJhci1jZW50ZXItbWFpbldpZHRoOiA7CiAgLS1rZl9uYXZpZ2F0b3JfYW5pbWF0aW9uRHVyYXRpb246IDsKfQouaGlqZTFkMiB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIG92ZXJmbG93OiBoaWRkZW47CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHVzZXItc2VsZWN0OiBub25lOwp9\\\"}!../../../../.yarn/__virtual__/@vanilla-extract-webpack-plugin-virtual-832f9f74c4/0/cache/@vanilla-extract-webpack-plugin-npm-2.1.0-b6d0172bbb-3847b9539b.zip/node_modules/@vanilla-extract/webpack-plugin/extracted/dist/vanilla-extract-webpack-plugin-extracted.cjs.js\"\nimport \"@karrotframe/navigator/src/components/Card.css.ts.vanilla.css!=!../../../../.yarn/cache/virtual-resource-loader-npm-1.0.0-3b4565a20a-6d7cbdb6e7.zip/node_modules/virtual-resource-loader/dist/virtual-resource-loader.cjs.js?{\\\"source\\\":\\\"Ll8xb2s5cnVsMCB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogMDsKICBsZWZ0OiAwOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBvdmVyZmxvdzogaGlkZGVuOwp9Ci5fMW9rOXJ1bDEgewogIGRpc3BsYXk6IGJsb2NrOwp9Ci5fMW9rOXJ1bDIgewogIGRpc3BsYXk6IGJsb2NrOwp9Ci5fMW9rOXJ1bDMgewogIGRpc3BsYXk6IGJsb2NrOwp9Ci5fMW9rOXJ1bDQgewogIGRpc3BsYXk6IGJsb2NrOwp9Ci5fMW9rOXJ1bDUgewogIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWtmX25hdmlnYXRvcl9kaW1CYWNrZ3JvdW5kQ29sb3IpOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDA7CiAgbGVmdDogMDsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgb3BhY2l0eTogMDsKICB3aWxsLWNoYW5nZTogb3BhY2l0eTsKICB0cmFuc2l0aW9uOiBvcGFjaXR5IHZhcigtLWtmX25hdmlnYXRvcl9hbmltYXRpb25EdXJhdGlvbik7Cn0KLl8xb2s5cnVsMSAuXzFvazlydWw1IHsKICBvcGFjaXR5OiAxOwp9Ci5fMW9rOXJ1bDIgLl8xb2s5cnVsNSB7CiAgb3BhY2l0eTogMTsKfQouXzFvazlydWwzIC5fMW9rOXJ1bDUgewogIG9wYWNpdHk6IDA7Cn0KLl8xb2s5cnVsNCAuXzFvazlydWw1IHsKICBvcGFjaXR5OiAwOwp9Ci5fMW9rOXJ1bDYgewogIHRvcDogdmFyKC0ta2ZfbmF2aWdhdG9yX25hdmJhci1oZWlnaHQpOwp9Ci5fMW9rOXJ1bDcgewogIHRvcDogMDsKfQouXzFvazlydWw4IHsKICBoZWlnaHQ6IDEwcmVtOwogIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh2YXIoLS1rZl9uYXZpZ2F0b3JfZGltQmFja2dyb3VuZENvbG9yKSwgcmdiYSgwLCAwLCAwLCAwKSk7Cn0KLl8xb2s5cnVsOSB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07CiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIHZhcigtLWtmX25hdmlnYXRvcl9hbmltYXRpb25EdXJhdGlvbik7Cn0KLl8xb2s5cnVsYSB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycmVtKTsKfQouXzFvazlydWxiIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAwOwogIGxlZnQ6IDA7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KLl8xb2s5cnVsYyB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwMCUpOwogIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07CiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIHZhcigtLWtmX25hdmlnYXRvcl9hbmltYXRpb25EdXJhdGlvbik7Cn0KLl8xb2s5cnVsMSAuXzFvazlydWxjIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7Cn0KLl8xb2s5cnVsMiAuXzFvazlydWxjIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7Cn0KLl8xb2s5cnVsMyAuXzFvazlydWxjIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTAwJSk7Cn0KLl8xb2s5cnVsNCAuXzFvazlydWxjIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTAwJSk7Cn0KLl8xb2s5cnVsZCB7CiAgcGFkZGluZy10b3A6IGNhbGModmFyKC0ta2ZfbmF2aWdhdG9yX25hdmJhci1oZWlnaHQpICsgZW52KHNhZmUtYXJlYS1pbnNldC10b3ApKTsKfQouXzFvazlydWxlIHsKICBvcGFjaXR5OiAwOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMHJlbSk7CiAgdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjIyLCAwLjY3LCAwLjM5LCAwLjgzKTsKICB3aWxsLWNoYW5nZTogdHJhbnNmb3JtLCBvcGFjaXR5OwogIHRyYW5zaXRpb246IHRyYW5zZm9ybSB2YXIoLS1rZl9uYXZpZ2F0b3JfYW5pbWF0aW9uRHVyYXRpb24pLCBvcGFjaXR5IHZhcigtLWtmX25hdmlnYXRvcl9hbmltYXRpb25EdXJhdGlvbik7Cn0KLl8xb2s5cnVsMSAuXzFvazlydWxlIHsKICBvcGFjaXR5OiAxOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsKfQouXzFvazlydWwyIC5fMW9rOXJ1bGUgewogIG9wYWNpdHk6IDE7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOwp9Ci5fMW9rOXJ1bDMgLl8xb2s5cnVsZSB7CiAgb3BhY2l0eTogMDsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTByZW0pOwp9Ci5fMW9rOXJ1bDQgLl8xb2s5cnVsZSB7CiAgb3BhY2l0eTogMDsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTByZW0pOwp9Ci5fMW9rOXJ1bGYgewogIHBhZGRpbmctdG9wOiB2YXIoLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWhlaWdodCk7Cn0KLl8xb2s5cnVsZyB7CiAgb3BhY2l0eTogMTsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7Cn0KLl8xb2s5cnVsaCB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07CiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIHZhcigtLWtmX25hdmlnYXRvcl9hbmltYXRpb25EdXJhdGlvbik7Cn0KLl8xb2s5cnVsMyAuXzFvazlydWxpIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7Cn0KLl8xb2s5cnVsNCAuXzFvazlydWxpIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7Cn0KLl8xb2s5cnVsaiB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01cmVtKTsKfQouXzFvazlydWxrIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgb3ZlcmZsb3cteTogc2Nyb2xsOwogIHNjcm9sbC1iZWhhdmlvcjogc21vb3RoOwogIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWtmX25hdmlnYXRvcl9iYWNrZ3JvdW5kQ29sb3IpOwogIC13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDsKfQouXzFvazlydWxsIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7CiAgd2lsbC1jaGFuZ2U6IHRyYW5zZm9ybTsKICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gdmFyKC0ta2ZfbmF2aWdhdG9yX2FuaW1hdGlvbkR1cmF0aW9uKTsKfQouXzFvazlydWxtIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7Cn0KLl8xb2s5cnVsbiB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOwp9Ci5fMW9rOXJ1bDEgLl8xb2s5cnVsbyB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOwp9Ci5fMW9rOXJ1bDIgLl8xb2s5cnVsbyB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOwp9Ci5fMW9rOXJ1bDMgLl8xb2s5cnVsbyB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpOwp9Ci5fMW9rOXJ1bDQgLl8xb2s5cnVsbyB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpOwp9Ci5fMW9rOXJ1bHAgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBsZWZ0OiAwOwogIGhlaWdodDogMTAwJTsKICB3aWR0aDogMS4yNXJlbTsKfQouXzFvazlydWxxIHsKICBkaXNwbGF5OiBibG9jazsKfQouXzFvazlydWxyIHsKICB0b3A6IDA7Cn0KLl8xb2s5cnVscyB7CiAgdG9wOiAyLjc1cmVtOwp9\\\"}!../../../../.yarn/__virtual__/@vanilla-extract-webpack-plugin-virtual-832f9f74c4/0/cache/@vanilla-extract-webpack-plugin-npm-2.1.0-b6d0172bbb-3847b9539b.zip/node_modules/@vanilla-extract/webpack-plugin/extracted/dist/vanilla-extract-webpack-plugin-extracted.cjs.js\"\nimport \"@karrotframe/navigator/src/components/Navbar.css.ts.vanilla.css!=!../../../../.yarn/cache/virtual-resource-loader-npm-1.0.0-3b4565a20a-6d7cbdb6e7.zip/node_modules/virtual-resource-loader/dist/virtual-resource-loader.cjs.js?{\\\"source\\\":\\\"Lng2MTNuZzAgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB3aWR0aDogMTAwJTsKICB0b3A6IDA7CiAgcGFkZGluZzogY29uc3RhbnQoc2FmZS1hcmVhLWluc2V0LXRvcCkgMCAwOwogIHBhZGRpbmctdG9wOiBlbnYoc2FmZS1hcmVhLWluc2V0LXRvcCk7CiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0ta2ZfbmF2aWdhdG9yX2JhY2tncm91bmRDb2xvcik7Cn0KLl8xb2s5cnVsMyAueDYxM25nMSB7CiAgZGlzcGxheTogbm9uZTsKfQouXzFvazlydWw0IC54NjEzbmcxIHsKICBkaXNwbGF5OiBub25lOwp9Ci54NjEzbmcyIHsKICBkaXNwbGF5OiBmbGV4OwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBoZWlnaHQ6IHZhcigtLWtmX25hdmlnYXRvcl9uYXZiYXItaGVpZ2h0KTsKICBib3gtc2hhZG93OiBpbnNldCAwcHggY2FsYyh2YXIoLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWJvcmRlclNpemUpICogLTEpIDAgdmFyKC0ta2ZfbmF2aWdhdG9yX25hdmJhci1ib3JkZXJDb2xvcik7Cn0KLng2MTNuZzMgewogIGJveC1zaGFkb3c6IG5vbmU7Cn0KLng2MTNuZzQgewogIGRpc3BsYXk6IGZsZXg7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGxlZnQ6IDA7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIHRvcDogMDsKfQoueDYxM25nNSB7CiAgcGFkZGluZzogMCAwLjVyZW07CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGhlaWdodDogMTAwJTsKICB6LWluZGV4OiAxOwp9Ci54NjEzbmc1OmVtcHR5IHsKICBkaXNwbGF5OiBub25lOwp9Ci54NjEzbmc2IHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgY3Vyc29yOiBwb2ludGVyOwogIGNvbG9yOiB2YXIoLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWljb25Db2xvcik7CiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDsKICBvcGFjaXR5OiAxOwogIHRyYW5zaXRpb246IG9wYWNpdHkgMzAwbXM7CiAgd2lkdGg6IDIuMjVyZW07CiAgaGVpZ2h0OiAyLjc1cmVtOwogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICBvdXRsaW5lOiBub25lOwp9Ci54NjEzbmc2OmFjdGl2ZSB7CiAgb3BhY2l0eTogMC4yOwogIHRyYW5zaXRpb246IG9wYWNpdHkgMHM7Cn0KLng2MTNuZzcgewogIHBhZGRpbmc6IDAgMC41cmVtOwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBoZWlnaHQ6IDEwMCU7CiAgbWFyZ2luLWxlZnQ6IGF1dG87CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHotaW5kZXg6IDE7Cn0KLng2MTNuZzc6ZW1wdHkgewogIGRpc3BsYXk6IG5vbmU7Cn0KLng2MTNuZzggewogIHBhZGRpbmc6IDAgMC41cmVtIDAgMDsKfQoueDYxM25nOSB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGN1cnNvcjogcG9pbnRlcjsKICBjb2xvcjogdmFyKC0ta2ZfbmF2aWdhdG9yX25hdmJhci1pY29uQ29sb3IpOwogIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgb3BhY2l0eTogMTsKICB0cmFuc2l0aW9uOiBvcGFjaXR5IDMwMG1zOwogIHdpZHRoOiAyLjI1cmVtOwogIGhlaWdodDogMi43NXJlbTsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgb3V0bGluZTogbm9uZTsKfQoueDYxM25nOTphY3RpdmUgewogIG9wYWNpdHk6IDAuMjsKICB0cmFuc2l0aW9uOiBvcGFjaXR5IDBzOwp9Ci54NjEzbmdhIHsKICBmbGV4OiAxOwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBvdmVyZmxvdzogaGlkZGVuOwogIGNvbG9yOiB2YXIoLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWNlbnRlci10ZXh0Q29sb3IpOwp9Ci54NjEzbmdiIHsKICBwYWRkaW5nLXJpZ2h0OiAxcmVtOwp9Ci54NjEzbmdjIHsKICBkaXNwbGF5OiBibG9jazsKICB3aWR0aDogdmFyKC0ta2ZfbmF2aWdhdG9yX25hdmJhci1jZW50ZXItbWFpbldpZHRoKTsKfQoueDYxM25nZCB7CiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0OwogIHBhZGRpbmctbGVmdDogMXJlbTsKICBmb250LXNpemU6IDEuMTg3NXJlbTsKICBsaW5lLWhlaWdodDogMS41OwogIGZvbnQtd2VpZ2h0OiBib2xkOwogIHdpZHRoOiAxMDAlOwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KLng2MTNuZ2UgewogIHBhZGRpbmctbGVmdDogMC4zNzVyZW07Cn0KLng2MTNuZ2YgewogIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQ7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGZvbnQtd2VpZ2h0OiA2MDA7CiAgZm9udC1zaXplOiAxcmVtOwogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAwOwogIGxlZnQ6IDUwJTsKICBoZWlnaHQ6IDEwMCU7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSk7Cn0KLng2MTNuZ2cgewogIG92ZXJmbG93OiBoaWRkZW47CiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CiAgZm9udC1zaXplOiBpbmhlcml0OwogIGZvbnQtd2VpZ2h0OiBpbmhlcml0OwogIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgd2lkdGg6IDEwMCU7Cn0KLng2MTNuZ2ggewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDA7CiAgbGVmdDogNTAlOwogIGhlaWdodDogMS4yNXJlbTsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlKTsKICBtYXgtd2lkdGg6IDVyZW07CiAgZGlzcGxheTogbm9uZTsKICBjdXJzb3I6IHBvaW50ZXI7CiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDsKICB3aWR0aDogdmFyKC0ta2ZfbmF2aWdhdG9yX25hdmJhci1jZW50ZXItbWFpbldpZHRoKTsKfQoueDYxM25naSB7CiAgZGlzcGxheTogYmxvY2s7Cn0KLng2MTNuZ2ogewogIHdpZHRoOiAxLjVyZW07CiAgaGVpZ2h0OiAxLjVyZW07Cn0=\\\"}!../../../../.yarn/__virtual__/@vanilla-extract-webpack-plugin-virtual-832f9f74c4/0/cache/@vanilla-extract-webpack-plugin-npm-2.1.0-b6d0172bbb-3847b9539b.zip/node_modules/@vanilla-extract/webpack-plugin/extracted/dist/vanilla-extract-webpack-plugin-extracted.cjs.js\"\nimport { createRuntimeFn as _7a468 } from '@vanilla-extract/recipes/createRuntimeFn';\nexport var backButton = 'x613ng6';\nexport var center = _7a468({defaultClassName:'x613nga',variantClassNames:{android:{true:'x613ngb'}},defaultVariants:undefined,compoundVariants:[]});\nexport var centerMain = _7a468({defaultClassName:'x613ngc',variantClassNames:{android:{true:'x613ngd'},androidAndIsLeft:{true:'x613nge'},cupertino:{true:'x613ngf'}},defaultVariants:undefined,compoundVariants:[]});\nexport var centerMainEdge = _7a468({defaultClassName:'x613ngh',variantClassNames:{cupertino:{true:'x613ngi'}},defaultVariants:undefined,compoundVariants:[]});\nexport var centerMainText = 'x613ngg';\nexport var closeButton = 'x613ng9';\nexport var container = _7a468({defaultClassName:'x613ng0',variantClassNames:{cupertinoAndIsNotPresent:{true:'x613ng1'}},defaultVariants:undefined,compoundVariants:[]});\nexport var flex = 'x613ng4';\nexport var left = 'x613ng5';\nexport var main = _7a468({defaultClassName:'x613ng2',variantClassNames:{noBorder:{true:'x613ng3'}},defaultVariants:undefined,compoundVariants:[]});\nexport var right = _7a468({defaultClassName:'x613ng7',variantClassNames:{android:{true:'x613ng8'}},defaultVariants:undefined,compoundVariants:[]});\nexport var svgIcon = 'x613ngj';","import React, { useEffect, useRef, useState } from 'react'\n\nimport { assignInlineVars } from '@vanilla-extract/dynamic'\n\nimport { IconBack, IconClose } from '../assets'\nimport { vars } from '../Navigator.css'\nimport { useStoreSelector } from '../store'\nimport { INavigatorTheme } from '../types'\nimport { useNavigator } from '../useNavigator'\nimport * as css from './Navbar.css'\n\ninterface INavbarProps {\n  screenInstanceId: string\n  theme: INavigatorTheme\n  isRoot: boolean\n  isPresent: boolean\n  backButtonAriaLabel: string\n  closeButtonAriaLabel: string\n  onTopClick: () => void\n  onClose?: () => void\n}\nconst Navbar: React.FC<INavbarProps> = (props) => {\n  const { pop } = useNavigator()\n\n  const android = props.theme === 'Android'\n  const cupertino = props.theme === 'Cupertino'\n\n  const screenInstanceOptions = useStoreSelector(\n    (state) => state.screenInstanceOptions\n  )\n\n  const [centerMainWidth, setCenterMainWidth] = useState<number | undefined>(\n    undefined\n  )\n\n  const navbarRef = useRef<HTMLDivElement>(null)\n  const centerRef = useRef<HTMLDivElement>(null)\n\n  const screenInstanceOption = screenInstanceOptions[props.screenInstanceId]\n\n  useEffect(() => {\n    const $navbar = navbarRef.current\n    const $center = centerRef.current\n\n    const onResize = () => {\n      if (!$navbar || !$center) {\n        return\n      }\n\n      const screenWidth = $navbar.clientWidth\n\n      const leftWidth = $center.offsetLeft\n      const centerWidth = $center.clientWidth\n      const rightWidth = screenWidth - leftWidth - centerWidth\n\n      const sideMargin = Math.max(leftWidth, rightWidth)\n\n      setCenterMainWidth(screenWidth - 2 * sideMargin)\n    }\n\n    if (props.theme === 'Cupertino') {\n      onResize()\n      window.addEventListener('resize', onResize)\n\n      return () => {\n        window.removeEventListener('resize', onResize)\n      }\n    }\n  }, [screenInstanceOption])\n\n  const onBackClick = () => {\n    pop()\n  }\n\n  const closeButton =\n    props.onClose &&\n    props.isRoot &&\n    (screenInstanceOption?.navbar.customCloseButton ? (\n      <a\n        className={css.closeButton}\n        role=\"text\"\n        aria-label={props.closeButtonAriaLabel}\n        onClick={props.onClose}\n      >\n        {screenInstanceOption.navbar.customCloseButton}\n      </a>\n    ) : (\n      <a\n        className={css.closeButton}\n        role=\"text\"\n        aria-label={props.closeButtonAriaLabel}\n        onClick={props.onClose}\n      >\n        <IconClose className={css.svgIcon} />\n      </a>\n    ))\n\n  const backButton =\n    !props.isRoot &&\n    (screenInstanceOption?.navbar.customBackButton ? (\n      <a\n        className={css.backButton}\n        role=\"text\"\n        aria-label={props.backButtonAriaLabel}\n        onClick={onBackClick}\n      >\n        {screenInstanceOption.navbar.customBackButton}\n      </a>\n    ) : (\n      <a\n        className={css.backButton}\n        role=\"text\"\n        aria-label={props.backButtonAriaLabel}\n        onClick={onBackClick}\n      >\n        {props.theme === 'Cupertino' && props.isPresent ? (\n          <IconClose className={css.svgIcon} />\n        ) : (\n          <IconBack className={css.svgIcon} />\n        )}\n      </a>\n    ))\n\n  const isLeft = !!(\n    (screenInstanceOption?.navbar.closeButtonLocation === 'left' &&\n      closeButton) ||\n    backButton ||\n    screenInstanceOption?.navbar.appendLeft\n  )\n\n  const noBorder = screenInstanceOption?.navbar.noBorder\n\n  return (\n    <div\n      className={css.container({\n        cupertinoAndIsNotPresent:\n          cupertino && !props.isPresent ? true : undefined,\n      })}\n      ref={navbarRef}\n      style={assignInlineVars({\n        [vars.navbar.center.mainWidth]: `${centerMainWidth}px`,\n      })}\n    >\n      <div\n        className={css.main({\n          noBorder: noBorder ? true : undefined,\n        })}\n      >\n        <div className={css.flex}>\n          <div className={css.left}>\n            {screenInstanceOption?.navbar.closeButtonLocation === 'left' &&\n              closeButton}\n            {backButton}\n            {screenInstanceOption?.navbar.appendLeft}\n          </div>\n          <div\n            className={css.center({\n              android: android ? true : undefined,\n            })}\n            ref={centerRef}\n          >\n            <div\n              className={css.centerMain({\n                android: android ? true : undefined,\n                androidAndIsLeft: android && isLeft ? true : undefined,\n                cupertino: cupertino ? true : undefined,\n              })}\n            >\n              {typeof screenInstanceOption?.navbar.title === 'string' ? (\n                <div className={css.centerMainText}>\n                  {screenInstanceOption?.navbar.title}\n                </div>\n              ) : (\n                screenInstanceOption?.navbar.title\n              )}\n            </div>\n            <div\n              className={css.centerMainEdge({\n                cupertino: cupertino ? true : undefined,\n              })}\n              onClick={props.onTopClick}\n            />\n          </div>\n          <div\n            className={css.right({\n              android: android ? true : undefined,\n            })}\n          >\n            {screenInstanceOption?.navbar.appendRight}\n            {screenInstanceOption?.navbar.closeButtonLocation === 'right' &&\n              closeButton}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Navbar\n","import React, { useCallback, useEffect, useRef, useState } from 'react'\nimport zenscroll from 'zenscroll'\n\nimport { useStore, useStoreSelector } from '../store'\nimport { INavigatorTheme } from '../types'\nimport { useNavigator } from '../useNavigator'\nimport * as css from './Card.css'\nimport { makeTranslation } from './Card.translation'\nimport Navbar from './Navbar'\n\ninterface ICardProps {\n  theme: INavigatorTheme\n  nodeRef: React.RefObject<HTMLDivElement>\n  beforeTopFrameOffsetRef: React.RefObject<HTMLDivElement>\n  screenPath: string\n  screenInstanceId: string\n  isRoot: boolean\n  isTop: boolean\n  isBeforeTop: boolean\n  isPresent: boolean\n  backButtonAriaLabel: string\n  closeButtonAriaLabel: string\n  onClose?: () => void\n}\nconst Card: React.FC<ICardProps> = (props) => {\n  const { pop } = useNavigator()\n\n  const android = props.theme === 'Android'\n  const cupertino = props.theme === 'Cupertino'\n\n  const [popped, setPopped] = useState(false)\n\n  const store = useStore()\n  const { screenInstanceOptions } = useStoreSelector((state) => ({\n    screenInstanceOptions: state.screenInstanceOptions,\n  }))\n  const dimRef = useRef<HTMLDivElement>(null)\n  const frameRef = useRef<HTMLDivElement>(null)\n  const frameOffsetRef = props.beforeTopFrameOffsetRef\n  const edgeRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    const $dim = dimRef.current\n    const $frame = frameRef.current\n    const $frameOffset = frameOffsetRef.current\n    const $edge = edgeRef.current\n\n    if (!$dim || !$frame || !$frameOffset || !$edge) {\n      return\n    }\n\n    let x0: number | null = null\n    let t0: number | null = null\n    let x: number | null = null\n\n    const resetState = () => {\n      x0 = null\n      t0 = null\n      x = null\n    }\n\n    const { translate, resetTranslation } = makeTranslation({\n      $dim,\n      $frame,\n      $frameOffset,\n    })\n\n    const onTouchStart = (e: TouchEvent) => {\n      document.activeElement?.['blur']?.()\n      x0 = x = e.touches[0].clientX\n      t0 = Date.now()\n    }\n\n    const onTouchMove = (e: TouchEvent) => {\n      if (!x0) {\n        return resetState()\n      }\n\n      x = e.touches[0].clientX\n\n      translate({\n        dx: x - x0,\n      })\n    }\n\n    const onTouchEnd = () => {\n      if (!x0 || !t0 || !x) {\n        return resetState()\n      }\n\n      const t = Date.now()\n      const v = (x - x0) / (t - t0)\n\n      if (v > 1 || x / $frame.clientWidth > 0.4) {\n        setPopped(true)\n        pop()\n      }\n\n      resetState()\n      resetTranslation()\n    }\n\n    $edge.addEventListener('touchstart', onTouchStart, { passive: true })\n    $edge.addEventListener('touchmove', onTouchMove, { passive: true })\n    $edge.addEventListener('touchend', onTouchEnd, { passive: true })\n\n    return () => {\n      $edge.removeEventListener('touchstart', onTouchStart)\n      $edge.removeEventListener('touchmove', onTouchMove)\n      $edge.removeEventListener('touchend', onTouchEnd)\n    }\n  }, [dimRef, frameRef, frameOffsetRef, edgeRef, setPopped, pop])\n\n  const onTopClick = useCallback(() => {\n    const $frame = frameRef.current\n\n    const screenInstanceOption =\n      store.getState().screenInstanceOptions[props.screenInstanceId]\n\n    if (!screenInstanceOption?.navbar.disableScrollToTop && $frame) {\n      const scroller = zenscroll.createScroller($frame)\n      scroller.toY(0)\n    }\n\n    screenInstanceOption?.navbar.onTopClick?.()\n  }, [])\n\n  const isNavbarVisible =\n    screenInstanceOptions[props.screenInstanceId]?.navbar.visible ?? false\n\n  return (\n    <div ref={props.nodeRef} className={css.container}>\n      {!props.isRoot && (\n        <div\n          className={css.dim({\n            android: android ? true : undefined,\n            cupertinoAndIsNavbarVisible:\n              cupertino && isNavbarVisible ? true : undefined,\n            cupertinoAndIsPresent:\n              cupertino && props.isPresent ? true : undefined,\n          })}\n          ref={dimRef}\n        />\n      )}\n      <div\n        className={css.mainOffset({\n          androidAndIsNotTop: android && !props.isTop ? true : undefined,\n        })}\n      >\n        <div\n          className={css.main({\n            android: android ? true : undefined,\n            androidAndIsNavbarVisible:\n              android && isNavbarVisible ? true : undefined,\n            androidAndIsRoot: android && props.isRoot ? true : undefined,\n            cupertinoAndIsNavbarVisible:\n              cupertino && isNavbarVisible ? true : undefined,\n            cupertinoAndIsPresent:\n              cupertino && props.isPresent ? true : undefined,\n          })}\n        >\n          {isNavbarVisible && (\n            <Navbar\n              screenInstanceId={props.screenInstanceId}\n              theme={props.theme}\n              isRoot={props.isRoot}\n              isPresent={props.isPresent}\n              backButtonAriaLabel={props.backButtonAriaLabel}\n              closeButtonAriaLabel={props.closeButtonAriaLabel}\n              onClose={props.onClose}\n              onTopClick={onTopClick}\n            />\n          )}\n          <div\n            className={css.frameOffset({\n              cupertinoAndIsNotPresent:\n                cupertino && !props.isPresent ? true : undefined,\n              cupertinoAndIsNotTop:\n                cupertino && !props.isTop ? true : undefined,\n            })}\n            ref={props.isBeforeTop ? props.beforeTopFrameOffsetRef : undefined}\n          >\n            <div\n              className={css.frame({\n                cupertino: cupertino ? true : undefined,\n                cupertinoAndIsNotRoot:\n                  cupertino && !props.isRoot ? true : undefined,\n                cupertinoAndIsPresent:\n                  cupertino && props.isPresent ? true : undefined,\n                cupertinoAndIsNotPresent:\n                  cupertino && !props.isPresent ? true : undefined,\n              })}\n              ref={frameRef}\n            >\n              {props.children}\n            </div>\n          </div>\n          {cupertino && !props.isRoot && !props.isPresent && !popped && (\n            <div\n              className={css.edge({\n                cupertinoAndIsNavbarVisible:\n                  cupertino && isNavbarVisible ? true : undefined,\n                isNavbarVisible: isNavbarVisible ? true : undefined,\n              })}\n              ref={edgeRef}\n            />\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Card\n","import { useEffect } from 'react'\n\nimport { useStore } from '../store'\n\nfunction useDepthChangeEffect(onDepthChange?: (depth: number) => void) {\n  const store = useStore()\n\n  useEffect(() => {\n    return store.listen((prevState, nextState) => {\n      if (\n        nextState.screenInstancePtr > -1 &&\n        prevState.screenInstancePtr !== nextState.screenInstancePtr\n      ) {\n        onDepthChange?.(nextState.screenInstancePtr)\n      }\n    })\n  }, [onDepthChange])\n}\n\nexport default useDepthChangeEffect\n","import { useCallback } from 'react'\n\nimport { useStore, useStoreActions } from '../store'\n\nexport function usePush() {\n  const store = useStore()\n  const {\n    insertScreenInstance,\n    increaseScreenInstancePtr,\n    setScreenInstancePtr,\n  } = useStoreActions()\n\n  const push = useCallback(\n    ({\n      screenId,\n      screenInstanceId,\n      present,\n      as,\n    }: {\n      screenId: string\n      screenInstanceId: string\n      present: boolean\n      as: string\n    }) => {\n      const { screenInstances, screenInstancePtr } = store.getState()\n\n      const nextPtr = screenInstances.findIndex(\n        (screenInstance) => screenInstance.id === screenInstanceId\n      )\n\n      if (nextPtr === -1) {\n        insertScreenInstance({\n          ptr: screenInstancePtr,\n          screenInstance: {\n            id: screenInstanceId,\n            screenId,\n            present,\n            as,\n          },\n        })\n        increaseScreenInstancePtr()\n      } else {\n        setScreenInstancePtr({ ptr: nextPtr })\n      }\n    },\n    []\n  )\n\n  return push\n}\n","import { useEffect } from 'react'\nimport { matchPath, useHistory, useLocation } from 'react-router-dom'\n\nimport { NavigatorParamKeys } from '../helpers'\nimport { useUniqueId } from '../hooks'\nimport { useStore } from '../store'\nimport { usePush } from './Stack.usePush'\n\nfunction useInitialize() {\n  const { uid } = useUniqueId()\n  const location = useLocation()\n  const history = useHistory()\n\n  const store = useStore()\n\n  const push = usePush()\n\n  useEffect(() => {\n    if (typeof window === 'undefined') {\n      return\n    }\n    if (window.__KARROTFRAME__) {\n      throw new Error('Only one Navigator is allowed in an app')\n    }\n\n    window.__KARROTFRAME__ = true\n\n    const searchParams = new URLSearchParams(location.search)\n    const screenInstanceId = uid()\n    searchParams.set(NavigatorParamKeys.SCREEN_INSTANCE_ID, screenInstanceId)\n\n    const { screens, screenInstances } = store.getState()\n\n    if (screenInstances.length === 0) {\n      const matchScreen = Object.values(screens).find(\n        (screen) =>\n          screen &&\n          matchPath(location.pathname, { exact: true, path: screen.path })\n      )\n\n      if (matchScreen) {\n        push({\n          screenId: matchScreen.id,\n          screenInstanceId,\n          present: false,\n          as: location.pathname,\n        })\n      }\n    }\n\n    history.replace(`${location.pathname}?${searchParams.toString()}`)\n\n    return () => {\n      window.__KARROTFRAME__ = false\n    }\n  }, [])\n}\n\nexport default useInitialize\n","import { useCallback } from 'react'\n\nimport { useStore, useStoreActions } from '../store'\n\nfunction usePop() {\n  const store = useStore()\n  const { setScreenInstancePtr } = useStoreActions()\n\n  const pop = useCallback(\n    ({\n      depth,\n      targetScreenInstanceId,\n    }: {\n      depth: number\n      targetScreenInstanceId?: string\n    }) => {\n      const { screenInstancePromises, screenInstancePtr } = store.getState()\n      if (targetScreenInstanceId) {\n        const promise = screenInstancePromises[targetScreenInstanceId]\n\n        if (promise && !promise.popped) {\n          promise.resolve(null)\n        }\n      }\n      setScreenInstancePtr({\n        ptr: screenInstancePtr - depth,\n      })\n    },\n    []\n  )\n\n  return pop\n}\n\nexport default usePop\n","import { matchPath } from 'react-router-dom'\n\nimport { getNavigatorParams } from '../helpers'\nimport { useHistoryPopEffect } from '../hooks'\nimport { IScreenInstance, useStore, useStoreActions } from '../store'\nimport usePop from './Stack.usePop'\nimport { usePush } from './Stack.usePush'\n\nfunction useInitializeHistoryPopEffect() {\n  const store = useStore()\n  const { mapScreenInstance } = useStoreActions()\n\n  const push = usePush()\n  const pop = usePop()\n\n  useHistoryPopEffect(\n    {\n      backward(location) {\n        const { screens, screenInstances, screenInstancePtr } = store.getState()\n\n        const matchScreen = Object.values(screens).find(\n          (screen) =>\n            screen &&\n            matchPath(location.pathname, { exact: true, path: screen.path })\n        )\n\n        const searchParams = new URLSearchParams(location.search)\n        const { screenInstanceId } = getNavigatorParams(searchParams)\n\n        if (screenInstanceId && matchScreen) {\n          const nextPtr = screenInstances.findIndex(\n            (screenInstance) => screenInstance.id === screenInstanceId\n          )\n\n          mapScreenInstance({\n            ptr: screenInstancePtr,\n            mapper: (screenInstance) => ({\n              ...screenInstance,\n              nestedRouteCount: 0,\n            }),\n          })\n          pop({\n            depth: screenInstancePtr - nextPtr,\n            targetScreenInstanceId: screenInstanceId,\n          })\n        } else if (screenInstances[screenInstancePtr]?.nestedRouteCount === 0) {\n          pop({\n            depth: 1,\n          })\n        } else {\n          mapScreenInstance({\n            ptr: screenInstancePtr,\n            mapper: (screenInstance) => ({\n              ...screenInstance,\n              nestedRouteCount: screenInstance.nestedRouteCount - 1,\n            }),\n          })\n        }\n      },\n      forward(location) {\n        const { screens, screenInstancePtr } = store.getState()\n        const searchParams = new URLSearchParams(location.search)\n        const { screenInstanceId, present } = getNavigatorParams(searchParams)\n\n        const matchScreen = Object.values(screens).find(\n          (screen) =>\n            screen &&\n            matchPath(location.pathname, { exact: true, path: screen.path })\n        )\n\n        if (screenInstanceId && matchScreen) {\n          push({\n            screenId: matchScreen.id,\n            screenInstanceId,\n            present,\n            as: location.pathname,\n          })\n        } else {\n          mapScreenInstance({\n            ptr: screenInstancePtr,\n            mapper(screenInstance: IScreenInstance): IScreenInstance {\n              return {\n                ...screenInstance,\n                nestedRouteCount: screenInstance.nestedRouteCount + 1,\n              }\n            },\n          })\n        }\n      },\n    },\n    [pop, push]\n  )\n}\n\nexport default useInitializeHistoryPopEffect\n","import { matchPath } from 'react-router-dom'\n\nimport { getNavigatorParams } from '../helpers'\nimport { useHistoryPushEffect } from '../hooks'\nimport { useStore, useStoreActions } from '../store'\nimport { usePush } from './Stack.usePush'\n\nexport function useInitializeHistoryPushEffect() {\n  const store = useStore()\n  const { mapScreenInstance } = useStoreActions()\n\n  const push = usePush()\n\n  useHistoryPushEffect(\n    (location) => {\n      const { screens, screenInstancePtr } = store.getState()\n\n      const searchParams = new URLSearchParams(location.search)\n      const { screenInstanceId, present } = getNavigatorParams(searchParams)\n\n      const matchScreen = Object.values(screens).find(\n        (screen) =>\n          !!screen &&\n          matchPath(location.pathname, { exact: true, path: screen.path })\n      )\n\n      if (screenInstanceId && matchScreen) {\n        push({\n          screenId: matchScreen.id,\n          screenInstanceId,\n          present,\n          as: location.pathname,\n        })\n      } else {\n        mapScreenInstance({\n          ptr: screenInstancePtr,\n          mapper: (screenInstance) => ({\n            ...screenInstance,\n            nestedRouteCount: screenInstance.nestedRouteCount + 1,\n          }),\n        })\n      }\n    },\n    [push]\n  )\n}\n","import { useCallback } from 'react'\n\nimport { useStore, useStoreActions } from '../store'\n\nexport function useReplace() {\n  const store = useStore()\n  const { insertScreenInstance } = useStoreActions()\n\n  const replace = useCallback(\n    ({\n      screenId,\n      screenInstanceId,\n      as,\n      present,\n    }: {\n      screenId: string\n      screenInstanceId: string\n      as: string\n      present: boolean\n    }) => {\n      const { screenInstancePtr } = store.getState()\n\n      insertScreenInstance({\n        ptr: screenInstancePtr - 1,\n        screenInstance: {\n          id: screenInstanceId,\n          screenId,\n          present,\n          as,\n        },\n      })\n    },\n    []\n  )\n\n  return replace\n}\n","import { matchPath } from 'react-router-dom'\n\nimport { getNavigatorParams } from '../helpers'\nimport { useHistoryReplaceEffect } from '../hooks'\nimport { useStore } from '../store'\nimport { useReplace } from './Stack.useReplace'\n\nexport function useInitializeHistoryReplaceEffect() {\n  const store = useStore()\n\n  const replace = useReplace()\n\n  useHistoryReplaceEffect(\n    (location) => {\n      const { screens } = store.getState()\n\n      const searchParams = new URLSearchParams(location.search)\n      const { screenInstanceId, present } = getNavigatorParams(searchParams)\n\n      const matchScreen = Object.values(screens).find(\n        (screen) =>\n          screen &&\n          matchPath(location.pathname, { exact: true, path: screen.path })\n      )\n\n      if (screenInstanceId && matchScreen) {\n        replace({\n          screenId: matchScreen.id,\n          screenInstanceId,\n          present,\n          as: location.pathname,\n        })\n      }\n    },\n    [replace]\n  )\n}\n","import React, { useRef } from 'react'\nimport { CSSTransition } from 'react-transition-group'\n\nimport { useStoreSelector } from '../store'\nimport { INavigatorTheme } from '../types'\nimport NodeRef from './_lib/NodeRef'\nimport Card from './Card'\nimport {\n  container_enterActive,\n  container_enterDone,\n  container_exitActive,\n  container_exitDone,\n} from './Card.css'\nimport useDepthChangeEffect from './Stack.useDepthChangeEffect'\nimport useInitialize from './Stack.useInitialize'\nimport useInitializeHistoryPopEffect from './Stack.useInitializeHistoryPopEffect'\nimport { useInitializeHistoryPushEffect } from './Stack.useInitializeHistoryPushEffect'\nimport { useInitializeHistoryReplaceEffect } from './Stack.useInitializeHistoryReplaceEffect'\n\ndeclare global {\n  interface Window {\n    __KARROTFRAME__?: boolean\n  }\n}\n\ninterface IStackProps {\n  theme: INavigatorTheme\n  animationDuration: number\n  backButtonAriaLabel: string\n  closeButtonAriaLabel: string\n  onClose?: () => void\n  onDepthChange?: (depth: number) => void\n}\nconst Stack: React.FC<IStackProps> = (props) => {\n  const beforeTopFrameOffsetRef = useRef<HTMLDivElement>(null)\n\n  const { screens, screenInstances, screenInstancePtr } = useStoreSelector(\n    (state) => ({\n      screens: state.screens,\n      screenInstances: state.screenInstances,\n      screenInstancePtr: state.screenInstancePtr,\n    })\n  )\n\n  useDepthChangeEffect(props.onDepthChange)\n\n  useInitialize()\n  useInitializeHistoryPushEffect()\n  useInitializeHistoryReplaceEffect()\n  useInitializeHistoryPopEffect()\n\n  return (\n    <>\n      {screenInstances.map((screenInstance, screenInstanceIndex) => {\n        const isRoot = screenInstanceIndex === 0\n        const isTop = screenInstanceIndex === screenInstancePtr\n\n        const screen = screens[screenInstance.screenId]\n\n        if (!screen) {\n          return null\n        }\n\n        return (\n          <NodeRef<HTMLDivElement> key={screenInstanceIndex}>\n            {(nodeRef) => (\n              <CSSTransition\n                key={screenInstance.id}\n                nodeRef={nodeRef}\n                timeout={props.animationDuration}\n                in={screenInstanceIndex <= screenInstancePtr}\n                classNames={{\n                  enterActive: container_enterActive,\n                  enterDone: container_enterDone,\n                  exitActive: container_exitActive,\n                  exitDone: container_exitDone,\n                }}\n                unmountOnExit\n              >\n                <Card\n                  nodeRef={nodeRef}\n                  beforeTopFrameOffsetRef={beforeTopFrameOffsetRef}\n                  theme={props.theme}\n                  screenPath={screen.path}\n                  screenInstanceId={screenInstance.id}\n                  isRoot={screenInstanceIndex === 0}\n                  isTop={\n                    screenInstanceIndex >= screenInstancePtr ||\n                    (props.theme === 'Cupertino' &&\n                      screenInstances.length > screenInstanceIndex + 1 &&\n                      screenInstances[screenInstanceIndex + 1].present)\n                  }\n                  isBeforeTop={screenInstanceIndex === screenInstancePtr - 1}\n                  isPresent={screenInstance.present}\n                  backButtonAriaLabel={props.backButtonAriaLabel}\n                  closeButtonAriaLabel={props.closeButtonAriaLabel}\n                  onClose={props.onClose}\n                >\n                  <screen.Component\n                    screenInstanceId={screenInstance.id}\n                    as={screenInstance.as}\n                    isTop={isTop}\n                    isRoot={isRoot}\n                  />\n                </Card>\n              </CSSTransition>\n            )}\n          </NodeRef>\n        )\n      })}\n      {props.children}\n    </>\n  )\n}\n\nexport default Stack\n","import React from 'react'\nimport { HashRouter } from 'react-router-dom'\nimport { TransitionGroup } from 'react-transition-group'\n\nimport { assignInlineVars } from '@vanilla-extract/dynamic'\n\nimport Stack from './components/Stack'\nimport { UniqueIdProvider } from './hooks'\nimport * as css from './Navigator.css'\nimport { StoreProvider } from './store'\nimport { INavigatorTheme } from './types'\n\ndeclare global {\n  interface Window {\n    __KARROTFRAME__?: boolean\n  }\n}\n\nconst DEFAULT_CUPERTINO_ANIMATION_DURATION = 350\nconst DEFAULT_ANDROID_ANIMATION_DURATION = 270\n\ninterface INavigatorProps {\n  /**\n   * Theme (default: `Android`)\n   */\n  theme?: INavigatorTheme\n\n  /**\n   * Transition animation duration\n   */\n  animationDuration?: number\n\n  /**\n   * Remove built-in `<HashRouter />`\n   * and use your own custom `<Router />`\n   */\n  useCustomRouter?: boolean\n\n  /**\n   * Class name appended to root div element\n   */\n  className?: string\n\n  /**\n   * `aria-label=` property assigned to back button\n   */\n  backButtonAriaLabel?: string\n\n  /**\n   * `aria-label=` property assigned to close button\n   */\n  closeButtonAriaLabel?: string\n\n  /**\n   * When close button clicked\n   */\n  onClose?: () => void\n\n  /**\n   * When navigation depth changed\n   */\n  onDepthChange?: (depth: number) => void\n}\nconst Navigator: React.FC<INavigatorProps> = ({\n  theme = 'Android',\n  animationDuration = theme === 'Android'\n    ? DEFAULT_ANDROID_ANIMATION_DURATION\n    : DEFAULT_CUPERTINO_ANIMATION_DURATION,\n  useCustomRouter,\n  className,\n  backButtonAriaLabel = 'Go back',\n  closeButtonAriaLabel = 'Close',\n  onClose,\n  onDepthChange,\n  children,\n}) => {\n  let h = (\n    <UniqueIdProvider>\n      <StoreProvider>\n        <div\n          className={[\n            css.root({ theme }),\n            ...(className ? [className] : []),\n          ].join(' ')}\n          style={assignInlineVars({\n            [css.vars.animationDuration]: animationDuration + 'ms',\n          })}\n        >\n          <TransitionGroup component={null}>\n            <Stack\n              animationDuration={animationDuration}\n              theme={theme}\n              onClose={onClose}\n              backButtonAriaLabel={backButtonAriaLabel}\n              closeButtonAriaLabel={closeButtonAriaLabel}\n              onDepthChange={onDepthChange}\n            >\n              {children}\n            </Stack>\n          </TransitionGroup>\n        </div>\n      </StoreProvider>\n    </UniqueIdProvider>\n  )\n\n  if (!useCustomRouter) {\n    h = <HashRouter>{h}</HashRouter>\n  }\n\n  return h\n}\n\nexport default Navigator\n","import React, { useCallback, useEffect, useMemo } from 'react'\n\nimport {\n  ScreenInstanceProvider,\n  ScreenInstanceSetNavbarProvider,\n} from './contexts'\nimport { INavbarOptions, useStoreActions } from './store'\n\ninterface IScreenProps {\n  /**\n   * URL path\n   */\n  path: string\n\n  /**\n   * Component\n   */\n  component?: React.ComponentType\n}\nconst Screen: React.FC<IScreenProps> = (props) => {\n  const { component: Component } = props\n  const { registerScreen, addScreenInstanceOption } = useStoreActions()\n\n  useEffect(() => {\n    if (!props.children && !Component) {\n      console.warn('Either component props or children is required')\n      return\n    }\n\n    const screenId = props.path\n\n    const unregisterScreen = registerScreen({\n      screen: {\n        id: screenId,\n        path: props.path,\n        Component({ screenInstanceId, as, isTop, isRoot }) {\n          const setNavbar = useCallback(\n            (navbar: INavbarOptions) => {\n              addScreenInstanceOption({\n                screenInstanceId,\n                screenInstanceOption: {\n                  navbar,\n                },\n              })\n            },\n            [addScreenInstanceOption, screenInstanceId]\n          )\n\n          const screenInstanceContext = useMemo(\n            () => ({\n              screenInstanceId,\n              as,\n              isTop,\n              isRoot,\n              path: props.path,\n            }),\n            [screenInstanceId, as, isTop, isRoot, props.path]\n          )\n\n          return (\n            <ScreenInstanceProvider value={screenInstanceContext}>\n              <ScreenInstanceSetNavbarProvider value={setNavbar}>\n                {Component ? <Component /> : props.children}\n              </ScreenInstanceSetNavbarProvider>\n            </ScreenInstanceProvider>\n          )\n        },\n      },\n    })\n\n    return () => {\n      unregisterScreen()\n    }\n  }, [props.path, Component])\n\n  return null\n}\n\nexport default Screen\n","import React, { useEffect } from 'react'\n\nimport { useScreenInstanceSetNavbar } from './contexts'\n\ninterface IScreenHelmetProps {\n  /**\n   * title\n   */\n  title?: React.ReactNode\n\n  /**\n   * Append elements in left side\n   * (It'll be displayed in right side of back button)\n   */\n  appendLeft?: React.ReactNode\n\n  /**\n   * Append elements in right side\n   * (It'll be displayed in left side of close button when `closeButtonLocation` is `right`)\n   */\n  appendRight?: React.ReactNode\n\n  /**\n   * Location of close button (default: `left`)\n   */\n  closeButtonLocation?: 'left' | 'right'\n\n  /**\n   * Replace back button\n   */\n  customBackButton?: React.ReactNode\n\n  /**\n   * Replace close button\n   */\n  customCloseButton?: React.ReactNode\n\n  /**\n   * Remove border\n   */\n  noBorder?: boolean\n\n  /**\n   * Disable scroll to top feature (iOS Only)\n   */\n  disableScrollToTop?: boolean\n\n  /**\n   * When top part clicked (iOS Only)\n   */\n  onTopClick?: () => void\n}\nconst ScreenHelmet: React.FC<IScreenHelmetProps> = (props) => {\n  const setNavbar = useScreenInstanceSetNavbar()\n\n  useEffect(() => {\n    setNavbar({\n      visible: true,\n      title: props.title ?? null,\n      appendLeft: props.appendLeft ?? null,\n      appendRight: props.appendRight ?? null,\n      closeButtonLocation: props.closeButtonLocation ?? 'left',\n      customBackButton: props.customBackButton ?? null,\n      customCloseButton: props.customCloseButton ?? null,\n      disableScrollToTop: props.disableScrollToTop ?? false,\n      noBorder: props.noBorder ?? false,\n      onTopClick: props.onTopClick,\n    })\n  }, [\n    props.title,\n    props.appendLeft,\n    props.appendRight,\n    props.closeButtonLocation,\n    props.customBackButton,\n    props.customCloseButton,\n    props.disableScrollToTop,\n    props.noBorder,\n    props.onTopClick,\n  ])\n\n  useEffect(() => {\n    return () => {\n      setNavbar({\n        visible: false,\n        title: null,\n        appendLeft: null,\n        appendRight: null,\n        closeButtonLocation: 'left',\n        customBackButton: null,\n        customCloseButton: null,\n        disableScrollToTop: false,\n        noBorder: false,\n        onTopClick: undefined,\n      })\n    }\n  }, [])\n\n  return null\n}\n\nexport default ScreenHelmet\n","import { useMemo } from 'react'\n\nimport { useScreenInstance } from './contexts'\n\nexport function useCurrentScreen() {\n  const { isTop, isRoot } = useScreenInstance()\n\n  return useMemo(\n    () => ({\n      isTop,\n      isRoot,\n    }),\n    [isTop, isRoot]\n  )\n}\n","import { useMemo } from 'react'\nimport { matchPath } from 'react-router-dom'\n\nimport { useScreenInstance } from './contexts'\n\nexport function useParams<\n  T extends { [key in keyof T]: string } = {}\n>(): Partial<T> {\n  const { as, path } = useScreenInstance()\n  return useMemo(() => matchPath<T>(as, path)?.params ?? {}, [as, path])\n}\n","import { useMemo } from 'react'\nimport { useLocation } from 'react-router-dom'\n\nimport { useScreenInstance } from './contexts'\n\nexport function useQueryParams<\n  T extends { [key in keyof T]: string } = {}\n>(options?: { ignoreNestedRoutes?: boolean }): Partial<T> {\n  const ignoreNestedRoutes = !!options?.ignoreNestedRoutes\n\n  const location = useLocation()\n  const { as } = useScreenInstance()\n\n  const parse = useMemo(() => {\n    let prevParams: Partial<T> = {}\n\n    return ({ pathname, search }: { pathname: string; search: string }) => {\n      if (pathname === as) {\n        prevParams = Object.fromEntries(\n          new URLSearchParams(search).entries()\n        ) as Partial<T>\n      }\n      return prevParams\n    }\n  }, [as])\n\n  const queryParams = useMemo(\n    () =>\n      parse({\n        pathname: location.pathname,\n        search: location.search,\n      }),\n    [\n      ignoreNestedRoutes,\n      ...(ignoreNestedRoutes ? [as] : [location.pathname, location.search]),\n    ]\n  )\n\n  return queryParams\n}\n","export { useLocation, useRouteMatch } from 'react-router-dom'\n\nexport { default as Navigator } from './Navigator'\nexport { default as Screen } from './Screen'\nexport { default as ScreenHelmet } from './ScreenHelmet'\n\nexport { useCurrentScreen } from './useCurrentScreen'\nexport { useNavigator } from './useNavigator'\nexport { useParams } from './useParams'\nexport { useQueryParams } from './useQueryParams'\n\nexport { INavigatorTheme } from './types'\n","module.exports = __WEBPACK_EXTERNAL_MODULE__475__;","module.exports = __WEBPACK_EXTERNAL_MODULE__297__;","module.exports = __WEBPACK_EXTERNAL_MODULE__53__;","module.exports = __WEBPACK_EXTERNAL_MODULE__146__;","module.exports = __WEBPACK_EXTERNAL_MODULE__810__;","module.exports = __WEBPACK_EXTERNAL_MODULE__148__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(190);\n"],"sourceRoot":""}