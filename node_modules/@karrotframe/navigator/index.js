(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("@vanilla-extract/dynamic"), require("react"), require("react-fast-compare"), require("react-router-dom"), require("react-transition-group"), require("zenscroll"));
	else if(typeof define === 'function' && define.amd)
		define(["@vanilla-extract/dynamic", "react", "react-fast-compare", "react-router-dom", "react-transition-group", "zenscroll"], factory);
	else {
		var a = typeof exports === 'object' ? factory(require("@vanilla-extract/dynamic"), require("react"), require("react-fast-compare"), require("react-router-dom"), require("react-transition-group"), require("zenscroll")) : factory(root["@vanilla-extract/dynamic"], root["react"], root["react-fast-compare"], root["react-router-dom"], root["react-transition-group"], root["zenscroll"]);
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(self, function(__WEBPACK_EXTERNAL_MODULE__475__, __WEBPACK_EXTERNAL_MODULE__297__, __WEBPACK_EXTERNAL_MODULE__53__, __WEBPACK_EXTERNAL_MODULE__146__, __WEBPACK_EXTERNAL_MODULE__810__, __WEBPACK_EXTERNAL_MODULE__148__) {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ 190:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "INavigatorTheme": () => (/* reexport */ NavigatorTheme.INavigatorTheme),
  "Navigator": () => (/* reexport */ src_Navigator),
  "Screen": () => (/* reexport */ src_Screen),
  "ScreenHelmet": () => (/* reexport */ src_ScreenHelmet),
  "useCurrentScreen": () => (/* reexport */ useCurrentScreen),
  "useLocation": () => (/* reexport */ external_react_router_dom_.useLocation),
  "useNavigator": () => (/* reexport */ useNavigator),
  "useParams": () => (/* reexport */ useParams),
  "useQueryParams": () => (/* reexport */ useQueryParams),
  "useRouteMatch": () => (/* reexport */ external_react_router_dom_.useRouteMatch)
});

// EXTERNAL MODULE: external "react-router-dom"
var external_react_router_dom_ = __webpack_require__(146);
// EXTERNAL MODULE: external "react"
var external_react_ = __webpack_require__(297);
var external_react_default = /*#__PURE__*/__webpack_require__.n(external_react_);
// EXTERNAL MODULE: external "react-transition-group"
var external_react_transition_group_ = __webpack_require__(810);
// EXTERNAL MODULE: external "@vanilla-extract/dynamic"
var dynamic_ = __webpack_require__(475);
// EXTERNAL MODULE: external "react-fast-compare"
var external_react_fast_compare_ = __webpack_require__(53);
var external_react_fast_compare_default = /*#__PURE__*/__webpack_require__.n(external_react_fast_compare_);
;// CONCATENATED MODULE: ./src/store/createStore.ts
function createStore(initialState) {
  var _state = initialState();

  var _listenerIdx = 1;

  function createListenerIdx() {
    return _listenerIdx += 1;
  }

  var _listeners = {};
  return {
    getState: function getState() {
      return _state;
    },
    setState: function setState(setter) {
      var prevState = _state;
      _state = setter(_state);
      var state = _state;
      Object.values(_listeners).map(function (fn) {
        return fn(prevState, state);
      });
    },
    listen: function listen(fn) {
      var idx = createListenerIdx();
      _listeners[idx] = fn;

      function dispose() {
        delete _listeners[idx];
      }

      return dispose;
    }
  };
}
;// CONCATENATED MODULE: ./src/store/index.tsx
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }




var StoreContext = /*#__PURE__*/(0,external_react_.createContext)(null);
var StoreProvider = function StoreProvider(props) {
  var store = (0,external_react_.useMemo)(function () {
    return createStore(function () {
      return {
        screens: {},
        screenInstances: [],
        screenInstancePtr: -1,
        screenInstanceOptions: {},
        screenInstancePromises: {}
      };
    });
  }, []);
  return /*#__PURE__*/external_react_default().createElement(StoreContext.Provider, {
    value: store
  }, props.children);
};
function useStore() {
  return (0,external_react_.useContext)(StoreContext);
}
function useStoreSelector(selector) {
  var store = useStore();

  var _useState = (0,external_react_.useState)(function () {
    return selector(store.getState());
  }),
      _useState2 = _slicedToArray(_useState, 2),
      value = _useState2[0],
      setValue = _useState2[1];

  (0,external_react_.useEffect)(function () {
    var fn = function fn(prevState, nextState) {
      var prevValue = prevState && selector(prevState);
      var nextValue = selector(nextState);

      if (prevValue && !external_react_fast_compare_default()(prevValue, nextValue) || !external_react_fast_compare_default()(value, nextValue)) {
        setValue(nextValue);
      }
    };

    fn(null, store.getState());
    var dispose = store.listen(fn, true);
    return function () {
      dispose();
    };
  }, [store, selector, setValue]);
  return value;
}
function useStoreActions() {
  var store = useStore();
  var registerScreen = (0,external_react_.useCallback)(function (_ref) {
    var screen = _ref.screen;
    store.setState(function (prevState) {
      return _objectSpread(_objectSpread({}, prevState), {}, {
        screens: _objectSpread(_objectSpread({}, prevState.screens), {}, _defineProperty({}, screen.id, screen))
      });
    });
    return function unregister() {
      store.setState(function (prevState) {
        return _objectSpread(_objectSpread({}, prevState), {}, {
          screens: _objectSpread(_objectSpread({}, prevState.screens), {}, _defineProperty({}, screen.id, undefined))
        });
      });
    };
  }, [store]);
  var addScreenInstanceOption = (0,external_react_.useCallback)(function (_ref2) {
    var screenInstanceId = _ref2.screenInstanceId,
        screenInstanceOption = _ref2.screenInstanceOption;
    store.setState(function (prevState) {
      return _objectSpread(_objectSpread({}, prevState), {}, {
        screenInstanceOptions: _objectSpread(_objectSpread({}, prevState.screenInstanceOptions), {}, _defineProperty({}, screenInstanceId, screenInstanceOption))
      });
    });
  }, [store]);
  var addScreenInstancePromise = (0,external_react_.useCallback)(function (_ref3) {
    var screenInstanceId = _ref3.screenInstanceId,
        screenInstancePromise = _ref3.screenInstancePromise;
    store.setState(function (prevState) {
      return _objectSpread(_objectSpread({}, prevState), {}, {
        screenInstancePromises: _objectSpread(_objectSpread({}, prevState.screenInstancePromises), {}, _defineProperty({}, screenInstanceId, screenInstancePromise))
      });
    });
  }, [store]);
  var mapScreenInstance = (0,external_react_.useCallback)(function (_ref4) {
    var ptr = _ref4.ptr,
        mapper = _ref4.mapper;
    store.setState(function (prevState) {
      return _objectSpread(_objectSpread({}, prevState), {}, {
        screenInstances: prevState.screenInstances.map(function (si, i) {
          return i === ptr ? mapper(si) : si;
        })
      });
    });
  }, [store]);
  var insertScreenInstance = (0,external_react_.useCallback)(function (_ref5) {
    var ptr = _ref5.ptr,
        screenInstance = _ref5.screenInstance;
    store.setState(function (prevState) {
      return _objectSpread(_objectSpread({}, prevState), {}, {
        screenInstances: [].concat(_toConsumableArray(prevState.screenInstances.filter(function (_, i) {
          return i <= ptr;
        })), [_objectSpread(_objectSpread({}, screenInstance), {}, {
          nestedRouteCount: 0
        })])
      });
    });
  }, [store]);
  var increaseScreenInstancePtr = (0,external_react_.useCallback)(function () {
    store.setState(function (prevState) {
      return _objectSpread(_objectSpread({}, prevState), {}, {
        screenInstancePtr: prevState.screenInstancePtr + 1
      });
    });
  }, [store]);
  var setScreenInstancePtr = (0,external_react_.useCallback)(function (_ref6) {
    var ptr = _ref6.ptr;
    store.setState(function (prevState) {
      return _objectSpread(_objectSpread({}, prevState), {}, {
        screenInstancePtr: ptr
      });
    });
  }, [store]);
  return (0,external_react_.useMemo)(function () {
    return {
      registerScreen: registerScreen,
      addScreenInstanceOption: addScreenInstanceOption,
      addScreenInstancePromise: addScreenInstancePromise,
      mapScreenInstance: mapScreenInstance,
      insertScreenInstance: insertScreenInstance,
      increaseScreenInstancePtr: increaseScreenInstancePtr,
      setScreenInstancePtr: setScreenInstancePtr
    };
  }, [registerScreen, addScreenInstanceOption, addScreenInstancePromise, mapScreenInstance, insertScreenInstance, increaseScreenInstancePtr, setScreenInstancePtr]);
}
;// CONCATENATED MODULE: ./src/components/_lib/NodeRef.tsx


var NodeRef = function NodeRef(props) {
  var nodeRef = (0,external_react_.useRef)(null);
  return /*#__PURE__*/external_react_default().createElement((external_react_default()).Fragment, null, props.children(nodeRef));
};

/* harmony default export */ const _lib_NodeRef = (NodeRef);
// EXTERNAL MODULE: external "zenscroll"
var external_zenscroll_ = __webpack_require__(148);
var external_zenscroll_default = /*#__PURE__*/__webpack_require__.n(external_zenscroll_);
;// CONCATENATED MODULE: ./src/contexts/ContextScreenInstance.ts

var ContextScreenInstance = /*#__PURE__*/(0,external_react_.createContext)(null);
var ScreenInstanceProvider = ContextScreenInstance.Provider;
function useScreenInstance() {
  return (0,external_react_.useContext)(ContextScreenInstance);
}
;// CONCATENATED MODULE: ./src/contexts/ContextScreenInstanceSetNavbar.ts

var ContextScreenInstanceSetNavbar = /*#__PURE__*/(0,external_react_.createContext)(null);
var ScreenInstanceSetNavbarProvider = ContextScreenInstanceSetNavbar.Provider;
function useScreenInstanceSetNavbar() {
  return (0,external_react_.useContext)(ContextScreenInstanceSetNavbar);
}
;// CONCATENATED MODULE: ./src/contexts/index.ts


;// CONCATENATED MODULE: ./src/helpers/getNavigatorParams.ts
var NavigatorParamKeys;

(function (NavigatorParamKeys) {
  NavigatorParamKeys["SCREEN_INSTANCE_ID"] = "_si";
  NavigatorParamKeys["PRESENT"] = "_present";
})(NavigatorParamKeys || (NavigatorParamKeys = {}));

function getNavigatorParams(searchParams) {
  return {
    screenInstanceId: searchParams.get(NavigatorParamKeys.SCREEN_INSTANCE_ID),
    present: searchParams.get(NavigatorParamKeys.PRESENT) === 'true'
  };
}
;// CONCATENATED MODULE: ./src/helpers/index.ts

;// CONCATENATED MODULE: ./src/hooks/useHistoryEffect.ts



function useHistoryPopEffect(callbacks, deps) {
  var history = (0,external_react_router_dom_.useHistory)();
  var location = (0,external_react_router_dom_.useLocation)();
  var locationKeyStack = (0,external_react_.useRef)([]);
  (0,external_react_.useEffect)(function () {
    if (locationKeyStack.current.length > 0 || !location.search) {
      return;
    }

    var searchParams = new URLSearchParams(location.search);

    var _getNavigatorParams = getNavigatorParams(searchParams),
        screenInstanceId = _getNavigatorParams.screenInstanceId;

    if (!screenInstanceId) {
      return;
    }

    locationKeyStack.current = [location.pathname + location.search];
  }, [location.search]);
  (0,external_react_.useEffect)(function () {
    return history.listen(function (location, action) {
      var locationKey = location.pathname + location.search;

      switch (action) {
        case 'PUSH':
          {
            if (locationKeyStack.current[locationKeyStack.current.length - 1] !== locationKey) {
              locationKeyStack.current.push(locationKey);
            }

            break;
          }

        case 'REPLACE':
          {
            locationKeyStack.current[locationKeyStack.current.length - 1] = locationKey;
            break;
          }

        case 'POP':
          {
            var ptr = locationKeyStack.current.findIndex(function (key) {
              return key === locationKey;
            });

            if (ptr > -1) {
              var _callbacks$backward;

              var _depth = locationKeyStack.current.length - ptr;

              locationKeyStack.current = locationKeyStack.current.filter(function (_, idx) {
                return idx <= ptr;
              });
              (_callbacks$backward = callbacks.backward) === null || _callbacks$backward === void 0 ? void 0 : _callbacks$backward.call(callbacks, location, action, _depth);
            } else {
              var _callbacks$forward;

              locationKeyStack.current.push(locationKey);
              (_callbacks$forward = callbacks.forward) === null || _callbacks$forward === void 0 ? void 0 : _callbacks$forward.call(callbacks, location, action);
            }
          }
      }
    });
  }, deps);
}
function useHistoryPushEffect(callback, deps) {
  var history = (0,external_react_router_dom_.useHistory)();
  var location = (0,external_react_router_dom_.useLocation)();
  var locationKeyStack = (0,external_react_.useRef)([]);
  (0,external_react_.useEffect)(function () {
    locationKeyStack.current = [location.pathname + location.search];
  }, []);
  (0,external_react_.useEffect)(function () {
    return history.listen(function (location, action) {
      var locationKey = location.pathname + location.search;

      switch (action) {
        case 'PUSH':
          {
            if (locationKeyStack.current[locationKeyStack.current.length - 1] !== locationKey) {
              locationKeyStack.current.push(locationKey);
              callback(location, action);
            }

            break;
          }

        case 'REPLACE':
          {
            locationKeyStack.current[locationKeyStack.current.length - 1] = locationKey;
            break;
          }

        case 'POP':
          {
            var ptr = locationKeyStack.current.findIndex(function (key) {
              return key === locationKey;
            });

            if (ptr > -1) {
              locationKeyStack.current = locationKeyStack.current.filter(function (_, idx) {
                return idx <= ptr;
              });
            } else {
              locationKeyStack.current.push(locationKey);
            }
          }
      }
    });
  }, deps);
}
function useHistoryReplaceEffect(callback, deps) {
  var history = (0,external_react_router_dom_.useHistory)();
  (0,external_react_.useEffect)(function () {
    return history.listen(function (location, action) {
      if (action === 'REPLACE') {
        callback(location, action);
      }
    });
  }, deps);
}
;// CONCATENATED MODULE: ./src/hooks/useUniqueId.tsx
function useUniqueId_slicedToArray(arr, i) { return useUniqueId_arrayWithHoles(arr) || useUniqueId_iterableToArrayLimit(arr, i) || useUniqueId_unsupportedIterableToArray(arr, i) || useUniqueId_nonIterableRest(); }

function useUniqueId_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function useUniqueId_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return useUniqueId_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return useUniqueId_arrayLikeToArray(o, minLen); }

function useUniqueId_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function useUniqueId_iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function useUniqueId_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }


var UniqueIdContext = /*#__PURE__*/(0,external_react_.createContext)(null);
var UniqueIdProvider = function UniqueIdProvider(props) {
  var _useReducer = (0,external_react_.useReducer)(function (i) {
    return i + 1;
  }, 0),
      _useReducer2 = useUniqueId_slicedToArray(_useReducer, 2),
      counter = _useReducer2[0],
      increase = _useReducer2[1];

  return /*#__PURE__*/external_react_default().createElement(UniqueIdContext.Provider, {
    value: (0,external_react_.useMemo)(function () {
      return {
        counter: counter,
        increase: increase
      };
    }, [counter, increase])
  }, props.children);
};
function useUniqueId() {
  var _useContext = (0,external_react_.useContext)(UniqueIdContext),
      counter = _useContext.counter,
      increase = _useContext.increase;

  var uid = (0,external_react_.useCallback)(function () {
    increase();
    return String(counter);
  }, [counter, increase]);
  return (0,external_react_.useMemo)(function () {
    return {
      uid: uid
    };
  }, [uid]);
}
;// CONCATENATED MODULE: ./src/hooks/index.ts


;// CONCATENATED MODULE: ./src/useNavigator.ts






function useNavigator() {
  var history = (0,external_react_router_dom_.useHistory)();
  var location = (0,external_react_router_dom_.useLocation)();
  var screenInfo = useScreenInstance();

  var _useUniqueId = useUniqueId(),
      uid = _useUniqueId.uid;

  var store = useStore();

  var _useStoreActions = useStoreActions(),
      addScreenInstancePromise = _useStoreActions.addScreenInstancePromise;

  var searchParams = new URLSearchParams(location.search);

  var _getNavigatorParams = getNavigatorParams(searchParams),
      present = _getNavigatorParams.present,
      screenInstanceId = _getNavigatorParams.screenInstanceId;

  var push = (0,external_react_.useCallback)(function (to, options) {
    return new Promise(function (resolve) {
      var _URL = new URL(to,
      /* dummy */
      'file://'),
          pathname = _URL.pathname,
          searchParams = _URL.searchParams;

      searchParams.set(NavigatorParamKeys.SCREEN_INSTANCE_ID, uid());

      if (options !== null && options !== void 0 && options.present) {
        searchParams.set(NavigatorParamKeys.PRESENT, 'true');
      }

      addScreenInstancePromise({
        screenInstanceId: screenInfo.screenInstanceId,
        screenInstancePromise: {
          resolve: resolve,
          popped: false
        }
      });
      history.push("".concat(pathname, "?").concat(searchParams.toString()));
    });
  }, [screenInfo, history]);
  var replace = (0,external_react_.useCallback)(function (to, options) {
    var _URL2 = new URL(to,
    /* dummy */
    'file://'),
        pathname = _URL2.pathname,
        searchParams = _URL2.searchParams;

    if (options !== null && options !== void 0 && options.animate) {
      searchParams.set(NavigatorParamKeys.SCREEN_INSTANCE_ID, uid());
    } else {
      if (screenInstanceId) {
        searchParams.set(NavigatorParamKeys.SCREEN_INSTANCE_ID, screenInstanceId);
      }

      if (present) {
        searchParams.set(NavigatorParamKeys.PRESENT, 'true');
      }
    }

    history.replace("".concat(pathname, "?").concat(searchParams.toString()));
  }, [history, screenInstanceId, present]);
  var pop = (0,external_react_.useCallback)(function () {
    var depth = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;

    var _store$getState = store.getState(),
        screenInstances = _store$getState.screenInstances,
        screenInstancePtr = _store$getState.screenInstancePtr,
        screenInstancePromises = _store$getState.screenInstancePromises;

    var targetScreenInstance = screenInstances[screenInstancePtr - depth];
    var backwardCount = screenInstances.filter(function (_, idx) {
      return idx > screenInstancePtr - depth && idx <= screenInstancePtr;
    }).map(function (screenInstance) {
      return screenInstance.nestedRouteCount;
    }).reduce(function (acc, current) {
      return acc + current + 1;
    }, 0);
    var targetPromise = targetScreenInstance && screenInstancePromises[targetScreenInstance.id];
    var _data = null;
    var dispose = history.listen(function () {
      dispose();

      if (targetScreenInstance) {
        var _data2;

        targetPromise === null || targetPromise === void 0 ? void 0 : targetPromise.resolve((_data2 = _data) !== null && _data2 !== void 0 ? _data2 : null);
      }
    });
    /**
     * Send data to `await push()`
     */

    function send(
    /**
     * Payload
     */
    data) {
      _data = data;

      if (targetPromise) {
        targetPromise.popped = true;
      }
    }

    Promise.resolve().then(function () {
      history.go(-backwardCount);
    });
    return {
      send: send
    };
  }, [history]);
  return (0,external_react_.useMemo)(function () {
    return {
      push: push,
      replace: replace,
      pop: pop
    };
  }, [push, replace, pop]);
}
;// CONCATENATED MODULE: @karrotframe/navigator/src/Navigator.css.ts.vanilla.css!=!../../.yarn/cache/virtual-resource-loader-npm-1.0.0-3b4565a20a-6d7cbdb6e7.zip/node_modules/virtual-resource-loader/dist/virtual-resource-loader.cjs.js?{"source":"LmhpamUxZDAgewogIC0ta2ZfbmF2aWdhdG9yX2JhY2tncm91bmRDb2xvcjogI2ZmZjsKICAtLWtmX25hdmlnYXRvcl9kaW1CYWNrZ3JvdW5kQ29sb3I6IHJnYmEoMCwgMCwgMCwgMC4xNSk7CiAgLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWljb25Db2xvcjogIzIxMjUyOTsKICAtLWtmX25hdmlnYXRvcl9uYXZiYXItYm9yZGVyQ29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wNyk7CiAgLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWJvcmRlclNpemU6IDFweDsKICAtLWtmX25hdmlnYXRvcl9uYXZiYXItaGVpZ2h0OiAzLjVyZW07CiAgLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWNlbnRlci10ZXh0Q29sb3I6ICMyMTI1Mjk7CiAgLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWNlbnRlci1tYWluV2lkdGg6IDsKICAtLWtmX25hdmlnYXRvcl9hbmltYXRpb25EdXJhdGlvbjogOwp9Ci5oaWplMWQxIHsKICAtLWtmX25hdmlnYXRvcl9iYWNrZ3JvdW5kQ29sb3I6ICNmZmY7CiAgLS1rZl9uYXZpZ2F0b3JfZGltQmFja2dyb3VuZENvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMTUpOwogIC0ta2ZfbmF2aWdhdG9yX25hdmJhci1pY29uQ29sb3I6ICMyMTI1Mjk7CiAgLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWJvcmRlckNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMTIpOwogIC0ta2ZfbmF2aWdhdG9yX25hdmJhci1ib3JkZXJTaXplOiAwLjVweDsKICAtLWtmX25hdmlnYXRvcl9uYXZiYXItaGVpZ2h0OiAyLjc1cmVtOwogIC0ta2ZfbmF2aWdhdG9yX25hdmJhci1jZW50ZXItdGV4dENvbG9yOiAjMjEyNTI5OwogIC0ta2ZfbmF2aWdhdG9yX25hdmJhci1jZW50ZXItbWFpbldpZHRoOiA7CiAgLS1rZl9uYXZpZ2F0b3JfYW5pbWF0aW9uRHVyYXRpb246IDsKfQouaGlqZTFkMiB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIG92ZXJmbG93OiBoaWRkZW47CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHVzZXItc2VsZWN0OiBub25lOwp9"}!../../.yarn/__virtual__/@vanilla-extract-webpack-plugin-virtual-832f9f74c4/0/cache/@vanilla-extract-webpack-plugin-npm-2.1.0-b6d0172bbb-3847b9539b.zip/node_modules/@vanilla-extract/webpack-plugin/extracted/dist/vanilla-extract-webpack-plugin-extracted.cjs.js
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: @karrotframe/navigator/src/components/Card.css.ts.vanilla.css!=!../../.yarn/cache/virtual-resource-loader-npm-1.0.0-3b4565a20a-6d7cbdb6e7.zip/node_modules/virtual-resource-loader/dist/virtual-resource-loader.cjs.js?{"source":"Ll8xb2s5cnVsMCB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogMDsKICBsZWZ0OiAwOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBvdmVyZmxvdzogaGlkZGVuOwp9Ci5fMW9rOXJ1bDEgewogIGRpc3BsYXk6IGJsb2NrOwp9Ci5fMW9rOXJ1bDIgewogIGRpc3BsYXk6IGJsb2NrOwp9Ci5fMW9rOXJ1bDMgewogIGRpc3BsYXk6IGJsb2NrOwp9Ci5fMW9rOXJ1bDQgewogIGRpc3BsYXk6IGJsb2NrOwp9Ci5fMW9rOXJ1bDUgewogIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWtmX25hdmlnYXRvcl9kaW1CYWNrZ3JvdW5kQ29sb3IpOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDA7CiAgbGVmdDogMDsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgb3BhY2l0eTogMDsKICB3aWxsLWNoYW5nZTogb3BhY2l0eTsKICB0cmFuc2l0aW9uOiBvcGFjaXR5IHZhcigtLWtmX25hdmlnYXRvcl9hbmltYXRpb25EdXJhdGlvbik7Cn0KLl8xb2s5cnVsMSAuXzFvazlydWw1IHsKICBvcGFjaXR5OiAxOwp9Ci5fMW9rOXJ1bDIgLl8xb2s5cnVsNSB7CiAgb3BhY2l0eTogMTsKfQouXzFvazlydWwzIC5fMW9rOXJ1bDUgewogIG9wYWNpdHk6IDA7Cn0KLl8xb2s5cnVsNCAuXzFvazlydWw1IHsKICBvcGFjaXR5OiAwOwp9Ci5fMW9rOXJ1bDYgewogIHRvcDogdmFyKC0ta2ZfbmF2aWdhdG9yX25hdmJhci1oZWlnaHQpOwp9Ci5fMW9rOXJ1bDcgewogIHRvcDogMDsKfQouXzFvazlydWw4IHsKICBoZWlnaHQ6IDEwcmVtOwogIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh2YXIoLS1rZl9uYXZpZ2F0b3JfZGltQmFja2dyb3VuZENvbG9yKSwgcmdiYSgwLCAwLCAwLCAwKSk7Cn0KLl8xb2s5cnVsOSB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07CiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIHZhcigtLWtmX25hdmlnYXRvcl9hbmltYXRpb25EdXJhdGlvbik7Cn0KLl8xb2s5cnVsYSB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycmVtKTsKfQouXzFvazlydWxiIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAwOwogIGxlZnQ6IDA7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KLl8xb2s5cnVsYyB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwMCUpOwogIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07CiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIHZhcigtLWtmX25hdmlnYXRvcl9hbmltYXRpb25EdXJhdGlvbik7Cn0KLl8xb2s5cnVsMSAuXzFvazlydWxjIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7Cn0KLl8xb2s5cnVsMiAuXzFvazlydWxjIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7Cn0KLl8xb2s5cnVsMyAuXzFvazlydWxjIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTAwJSk7Cn0KLl8xb2s5cnVsNCAuXzFvazlydWxjIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTAwJSk7Cn0KLl8xb2s5cnVsZCB7CiAgcGFkZGluZy10b3A6IGNhbGModmFyKC0ta2ZfbmF2aWdhdG9yX25hdmJhci1oZWlnaHQpICsgZW52KHNhZmUtYXJlYS1pbnNldC10b3ApKTsKfQouXzFvazlydWxlIHsKICBvcGFjaXR5OiAwOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMHJlbSk7CiAgdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjIyLCAwLjY3LCAwLjM5LCAwLjgzKTsKICB3aWxsLWNoYW5nZTogdHJhbnNmb3JtLCBvcGFjaXR5OwogIHRyYW5zaXRpb246IHRyYW5zZm9ybSB2YXIoLS1rZl9uYXZpZ2F0b3JfYW5pbWF0aW9uRHVyYXRpb24pLCBvcGFjaXR5IHZhcigtLWtmX25hdmlnYXRvcl9hbmltYXRpb25EdXJhdGlvbik7Cn0KLl8xb2s5cnVsMSAuXzFvazlydWxlIHsKICBvcGFjaXR5OiAxOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsKfQouXzFvazlydWwyIC5fMW9rOXJ1bGUgewogIG9wYWNpdHk6IDE7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOwp9Ci5fMW9rOXJ1bDMgLl8xb2s5cnVsZSB7CiAgb3BhY2l0eTogMDsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTByZW0pOwp9Ci5fMW9rOXJ1bDQgLl8xb2s5cnVsZSB7CiAgb3BhY2l0eTogMDsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTByZW0pOwp9Ci5fMW9rOXJ1bGYgewogIHBhZGRpbmctdG9wOiB2YXIoLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWhlaWdodCk7Cn0KLl8xb2s5cnVsZyB7CiAgb3BhY2l0eTogMTsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7Cn0KLl8xb2s5cnVsaCB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07CiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIHZhcigtLWtmX25hdmlnYXRvcl9hbmltYXRpb25EdXJhdGlvbik7Cn0KLl8xb2s5cnVsMyAuXzFvazlydWxpIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7Cn0KLl8xb2s5cnVsNCAuXzFvazlydWxpIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7Cn0KLl8xb2s5cnVsaiB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01cmVtKTsKfQouXzFvazlydWxrIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgb3ZlcmZsb3cteTogc2Nyb2xsOwogIHNjcm9sbC1iZWhhdmlvcjogc21vb3RoOwogIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWtmX25hdmlnYXRvcl9iYWNrZ3JvdW5kQ29sb3IpOwogIC13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDsKfQouXzFvazlydWxsIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7CiAgd2lsbC1jaGFuZ2U6IHRyYW5zZm9ybTsKICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gdmFyKC0ta2ZfbmF2aWdhdG9yX2FuaW1hdGlvbkR1cmF0aW9uKTsKfQouXzFvazlydWxtIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7Cn0KLl8xb2s5cnVsbiB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOwp9Ci5fMW9rOXJ1bDEgLl8xb2s5cnVsbyB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOwp9Ci5fMW9rOXJ1bDIgLl8xb2s5cnVsbyB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOwp9Ci5fMW9rOXJ1bDMgLl8xb2s5cnVsbyB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpOwp9Ci5fMW9rOXJ1bDQgLl8xb2s5cnVsbyB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpOwp9Ci5fMW9rOXJ1bHAgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBsZWZ0OiAwOwogIGhlaWdodDogMTAwJTsKICB3aWR0aDogMS4yNXJlbTsKfQouXzFvazlydWxxIHsKICBkaXNwbGF5OiBibG9jazsKfQouXzFvazlydWxyIHsKICB0b3A6IDA7Cn0KLl8xb2s5cnVscyB7CiAgdG9wOiAyLjc1cmVtOwp9"}!../../.yarn/__virtual__/@vanilla-extract-webpack-plugin-virtual-832f9f74c4/0/cache/@vanilla-extract-webpack-plugin-npm-2.1.0-b6d0172bbb-3847b9539b.zip/node_modules/@vanilla-extract/webpack-plugin/extracted/dist/vanilla-extract-webpack-plugin-extracted.cjs.js
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ../../.yarn/__virtual__/@vanilla-extract-recipes-virtual-de3e94637d/0/cache/@vanilla-extract-recipes-npm-0.1.0-1bc85e35ca-51000edfac.zip/node_modules/@vanilla-extract/recipes/createRuntimeFn/dist/vanilla-extract-recipes-createRuntimeFn.esm.js
const shouldApplyCompound = (compoundCheck, selections) => {
  for (const key of Object.keys(compoundCheck)) {
    if (compoundCheck[key] !== selections[key]) {
      return false;
    }
  }

  return true;
};

const createRuntimeFn = config => options => {
  let className = config.defaultClassName; // @ts-expect-error

  const selections = { ...config.defaultVariants,
    ...options
  };

  for (const variantName in selections) {
    const variantSelection = selections[variantName];

    if (variantSelection) {
      className += ` ${// @ts-expect-error
      config.variantClassNames[variantName][variantSelection === true ? 'true' : variantSelection]}`;
    }
  }

  for (const [compoundCheck, compoundClassName] of config.compoundVariants) {
    if (shouldApplyCompound(compoundCheck, selections)) {
      className += ` ${compoundClassName}`;
    }
  }

  return className;
};



;// CONCATENATED MODULE: ./src/components/Card.css.ts



var container = '_1ok9rul0';
var container_enterActive = '_1ok9rul1';
var container_enterDone = '_1ok9rul2';
var container_exitActive = '_1ok9rul3';
var container_exitDone = '_1ok9rul4';
var dim = createRuntimeFn({defaultClassName:'_1ok9rul5',variantClassNames:{cupertinoAndIsNavbarVisible:{true:'_1ok9rul6'},cupertinoAndIsPresent:{true:'_1ok9rul7'},android:{true:'_1ok9rul8'}},defaultVariants:undefined,compoundVariants:[]});
var edge = createRuntimeFn({defaultClassName:'_1ok9rulp',variantClassNames:{isNavbarVisible:{true:'_1ok9rulq',false:'_1ok9rulr'},cupertinoAndIsNavbarVisible:{true:'_1ok9ruls'}},defaultVariants:undefined,compoundVariants:[]});
var Card_css_frame = createRuntimeFn({defaultClassName:'_1ok9rulk',variantClassNames:{cupertino:{true:'_1ok9rull'},cupertinoAndIsNotRoot:{true:'_1ok9rulm'},cupertinoAndIsPresent:{true:'_1ok9ruln'},cupertinoAndIsNotPresent:{true:'_1ok9rulo'}},defaultVariants:undefined,compoundVariants:[]});
var frameOffset = createRuntimeFn({defaultClassName:'_1ok9rulh',variantClassNames:{cupertinoAndIsNotPresent:{true:'_1ok9ruli'},cupertinoAndIsNotTop:{true:'_1ok9rulj'}},defaultVariants:undefined,compoundVariants:[]});
var main = createRuntimeFn({defaultClassName:'_1ok9rulb',variantClassNames:{cupertinoAndIsPresent:{true:'_1ok9rulc'},cupertinoAndIsNavbarVisible:{true:'_1ok9ruld'},android:{true:'_1ok9rule'},androidAndIsNavbarVisible:{true:'_1ok9rulf'},androidAndIsRoot:{true:'_1ok9rulg'}},defaultVariants:undefined,compoundVariants:[]});
var mainOffset = createRuntimeFn({defaultClassName:'_1ok9rul9',variantClassNames:{androidAndIsNotTop:{true:'_1ok9rula'}},defaultVariants:undefined,compoundVariants:[]});
;// CONCATENATED MODULE: ./src/components/Card.translation.ts
var _templateObject, _templateObject2, _templateObject3;

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

var MAX_FRAME_OFFSET = 80;
var css = String.raw;
function makeTranslation(_ref) {
  var $dim = _ref.$dim,
      $frame = _ref.$frame,
      $frameOffset = _ref.$frameOffset;
  var _rAFLock = false;
  return {
    translate: function translate(_ref2) {
      var dx = _ref2.dx,
          force = _ref2.force,
          onAnimationFrame = _ref2.onAnimationFrame;

      if (force || !_rAFLock) {
        _rAFLock = true;
        requestAnimationFrame(function () {
          var p = dx / $frame.clientWidth;
          $dim.style.cssText = css(_templateObject || (_templateObject = _taggedTemplateLiteral(["\n            opacity: ", ";\n            transition: opacity 0s;\n          "])), 1 - p);
          $frame.style.cssText = css(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral(["\n            overflow-y: hidden;\n            transform: translateX(", "px);\n            transition: transform 0s;\n          "])), dx);
          $frameOffset.style.cssText = css(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral(["\n            transform: translateX(", "px);\n            transition: transform 0s;\n          "])), -1 * (1 - p) * MAX_FRAME_OFFSET);
          onAnimationFrame === null || onAnimationFrame === void 0 ? void 0 : onAnimationFrame(dx);
          _rAFLock = false;
        });
      }
    },
    resetTranslation: function resetTranslation() {
      requestAnimationFrame(function () {
        $dim.style.cssText = '';
        $frame.style.cssText = '';
        $frameOffset.style.cssText = '';
      });
    }
  };
}
;// CONCATENATED MODULE: ./src/assets/IconBack.tsx


var IconBack = function IconBack(props) {
  return /*#__PURE__*/external_react_default().createElement("svg", {
    className: props.className,
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg"
  }, /*#__PURE__*/external_react_default().createElement("path", {
    d: "M11.5659 5.56564C11.8783 5.25322 11.8783 4.74669 11.5659 4.43427C11.2535 4.12185 10.7469 4.12185 10.4345 4.43427L3.43451 11.4343C3.12209 11.7467 3.12209 12.2532 3.43451 12.5656L10.4345 19.5656C10.7469 19.8781 11.2535 19.8781 11.5659 19.5656C11.8783 19.2532 11.8783 18.7467 11.5659 18.4343L5.93157 12.8H20.0002C20.442 12.8 20.8002 12.4418 20.8002 12C20.8002 11.5581 20.442 11.2 20.0002 11.2H5.93157L11.5659 5.56564Z",
    fill: "currentColor"
  }));
};

/* harmony default export */ const assets_IconBack = (IconBack);
;// CONCATENATED MODULE: ./src/assets/IconClose.tsx


var IconClose = function IconClose(props) {
  return /*#__PURE__*/external_react_default().createElement("svg", {
    className: props.className,
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg"
  }, /*#__PURE__*/external_react_default().createElement("path", {
    d: "M6.56588 5.43433C6.25346 5.12191 5.74693 5.12191 5.43451 5.43433C5.12209 5.74675 5.12209 6.25328 5.43451 6.5657L10.8688 12L5.43451 17.4343C5.12209 17.7467 5.12209 18.2533 5.43451 18.5657C5.74693 18.8781 6.25346 18.8781 6.56588 18.5657L12.0002 13.1314L17.4345 18.5657C17.7469 18.8781 18.2535 18.8781 18.5659 18.5657C18.8783 18.2533 18.8783 17.7467 18.5659 17.4343L13.1316 12L18.5659 6.5657C18.8783 6.25328 18.8783 5.74675 18.5659 5.43433C18.2535 5.12191 17.7469 5.12191 17.4345 5.43433L12.0002 10.8686L6.56588 5.43433Z",
    fill: "currentColor"
  }), /*#__PURE__*/external_react_default().createElement("path", {
    d: "M6.56588 5.43433C6.25346 5.12191 5.74693 5.12191 5.43451 5.43433C5.12209 5.74675 5.12209 6.25328 5.43451 6.5657L10.8688 12L5.43451 17.4343C5.12209 17.7467 5.12209 18.2533 5.43451 18.5657C5.74693 18.8781 6.25346 18.8781 6.56588 18.5657L12.0002 13.1314L17.4345 18.5657C17.7469 18.8781 18.2535 18.8781 18.5659 18.5657C18.8783 18.2533 18.8783 17.7467 18.5659 17.4343L13.1316 12L18.5659 6.5657C18.8783 6.25328 18.8783 5.74675 18.5659 5.43433C18.2535 5.12191 17.7469 5.12191 17.4345 5.43433L12.0002 10.8686L6.56588 5.43433Z",
    fill: "currentColor"
  }));
};

/* harmony default export */ const assets_IconClose = (IconClose);
;// CONCATENATED MODULE: ./src/assets/index.ts


;// CONCATENATED MODULE: ./src/Navigator.css.ts


var root = createRuntimeFn({defaultClassName:'hije1d2',variantClassNames:{theme:{Android:'hije1d0',Cupertino:'hije1d1'}},defaultVariants:undefined,compoundVariants:[]});
var vars = {backgroundColor:'var(--kf_navigator_backgroundColor)',dimBackgroundColor:'var(--kf_navigator_dimBackgroundColor)',navbar:{iconColor:'var(--kf_navigator_navbar-iconColor)',borderColor:'var(--kf_navigator_navbar-borderColor)',borderSize:'var(--kf_navigator_navbar-borderSize)',height:'var(--kf_navigator_navbar-height)',center:{textColor:'var(--kf_navigator_navbar-center-textColor)',mainWidth:'var(--kf_navigator_navbar-center-mainWidth)'}},animationDuration:'var(--kf_navigator_animationDuration)'};
;// CONCATENATED MODULE: @karrotframe/navigator/src/components/Navbar.css.ts.vanilla.css!=!../../.yarn/cache/virtual-resource-loader-npm-1.0.0-3b4565a20a-6d7cbdb6e7.zip/node_modules/virtual-resource-loader/dist/virtual-resource-loader.cjs.js?{"source":"Lng2MTNuZzAgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB3aWR0aDogMTAwJTsKICB0b3A6IDA7CiAgcGFkZGluZzogY29uc3RhbnQoc2FmZS1hcmVhLWluc2V0LXRvcCkgMCAwOwogIHBhZGRpbmctdG9wOiBlbnYoc2FmZS1hcmVhLWluc2V0LXRvcCk7CiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0ta2ZfbmF2aWdhdG9yX2JhY2tncm91bmRDb2xvcik7Cn0KLl8xb2s5cnVsMyAueDYxM25nMSB7CiAgZGlzcGxheTogbm9uZTsKfQouXzFvazlydWw0IC54NjEzbmcxIHsKICBkaXNwbGF5OiBub25lOwp9Ci54NjEzbmcyIHsKICBkaXNwbGF5OiBmbGV4OwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBoZWlnaHQ6IHZhcigtLWtmX25hdmlnYXRvcl9uYXZiYXItaGVpZ2h0KTsKICBib3gtc2hhZG93OiBpbnNldCAwcHggY2FsYyh2YXIoLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWJvcmRlclNpemUpICogLTEpIDAgdmFyKC0ta2ZfbmF2aWdhdG9yX25hdmJhci1ib3JkZXJDb2xvcik7Cn0KLng2MTNuZzMgewogIGJveC1zaGFkb3c6IG5vbmU7Cn0KLng2MTNuZzQgewogIGRpc3BsYXk6IGZsZXg7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGxlZnQ6IDA7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIHRvcDogMDsKfQoueDYxM25nNSB7CiAgcGFkZGluZzogMCAwLjVyZW07CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGhlaWdodDogMTAwJTsKICB6LWluZGV4OiAxOwp9Ci54NjEzbmc1OmVtcHR5IHsKICBkaXNwbGF5OiBub25lOwp9Ci54NjEzbmc2IHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgY3Vyc29yOiBwb2ludGVyOwogIGNvbG9yOiB2YXIoLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWljb25Db2xvcik7CiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDsKICBvcGFjaXR5OiAxOwogIHRyYW5zaXRpb246IG9wYWNpdHkgMzAwbXM7CiAgd2lkdGg6IDIuMjVyZW07CiAgaGVpZ2h0OiAyLjc1cmVtOwogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICBvdXRsaW5lOiBub25lOwp9Ci54NjEzbmc2OmFjdGl2ZSB7CiAgb3BhY2l0eTogMC4yOwogIHRyYW5zaXRpb246IG9wYWNpdHkgMHM7Cn0KLng2MTNuZzcgewogIHBhZGRpbmc6IDAgMC41cmVtOwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBoZWlnaHQ6IDEwMCU7CiAgbWFyZ2luLWxlZnQ6IGF1dG87CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHotaW5kZXg6IDE7Cn0KLng2MTNuZzc6ZW1wdHkgewogIGRpc3BsYXk6IG5vbmU7Cn0KLng2MTNuZzggewogIHBhZGRpbmc6IDAgMC41cmVtIDAgMDsKfQoueDYxM25nOSB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGN1cnNvcjogcG9pbnRlcjsKICBjb2xvcjogdmFyKC0ta2ZfbmF2aWdhdG9yX25hdmJhci1pY29uQ29sb3IpOwogIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgb3BhY2l0eTogMTsKICB0cmFuc2l0aW9uOiBvcGFjaXR5IDMwMG1zOwogIHdpZHRoOiAyLjI1cmVtOwogIGhlaWdodDogMi43NXJlbTsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgb3V0bGluZTogbm9uZTsKfQoueDYxM25nOTphY3RpdmUgewogIG9wYWNpdHk6IDAuMjsKICB0cmFuc2l0aW9uOiBvcGFjaXR5IDBzOwp9Ci54NjEzbmdhIHsKICBmbGV4OiAxOwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBvdmVyZmxvdzogaGlkZGVuOwogIGNvbG9yOiB2YXIoLS1rZl9uYXZpZ2F0b3JfbmF2YmFyLWNlbnRlci10ZXh0Q29sb3IpOwp9Ci54NjEzbmdiIHsKICBwYWRkaW5nLXJpZ2h0OiAxcmVtOwp9Ci54NjEzbmdjIHsKICBkaXNwbGF5OiBibG9jazsKICB3aWR0aDogdmFyKC0ta2ZfbmF2aWdhdG9yX25hdmJhci1jZW50ZXItbWFpbldpZHRoKTsKfQoueDYxM25nZCB7CiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0OwogIHBhZGRpbmctbGVmdDogMXJlbTsKICBmb250LXNpemU6IDEuMTg3NXJlbTsKICBsaW5lLWhlaWdodDogMS41OwogIGZvbnQtd2VpZ2h0OiBib2xkOwogIHdpZHRoOiAxMDAlOwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KLng2MTNuZ2UgewogIHBhZGRpbmctbGVmdDogMC4zNzVyZW07Cn0KLng2MTNuZ2YgewogIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQ7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGZvbnQtd2VpZ2h0OiA2MDA7CiAgZm9udC1zaXplOiAxcmVtOwogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAwOwogIGxlZnQ6IDUwJTsKICBoZWlnaHQ6IDEwMCU7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSk7Cn0KLng2MTNuZ2cgewogIG92ZXJmbG93OiBoaWRkZW47CiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CiAgZm9udC1zaXplOiBpbmhlcml0OwogIGZvbnQtd2VpZ2h0OiBpbmhlcml0OwogIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgd2lkdGg6IDEwMCU7Cn0KLng2MTNuZ2ggewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDA7CiAgbGVmdDogNTAlOwogIGhlaWdodDogMS4yNXJlbTsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlKTsKICBtYXgtd2lkdGg6IDVyZW07CiAgZGlzcGxheTogbm9uZTsKICBjdXJzb3I6IHBvaW50ZXI7CiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDsKICB3aWR0aDogdmFyKC0ta2ZfbmF2aWdhdG9yX25hdmJhci1jZW50ZXItbWFpbldpZHRoKTsKfQoueDYxM25naSB7CiAgZGlzcGxheTogYmxvY2s7Cn0KLng2MTNuZ2ogewogIHdpZHRoOiAxLjVyZW07CiAgaGVpZ2h0OiAxLjVyZW07Cn0="}!../../.yarn/__virtual__/@vanilla-extract-webpack-plugin-virtual-832f9f74c4/0/cache/@vanilla-extract-webpack-plugin-npm-2.1.0-b6d0172bbb-3847b9539b.zip/node_modules/@vanilla-extract/webpack-plugin/extracted/dist/vanilla-extract-webpack-plugin-extracted.cjs.js
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./src/components/Navbar.css.ts




var Navbar_css_backButton = 'x613ng6';
var center = createRuntimeFn({defaultClassName:'x613nga',variantClassNames:{android:{true:'x613ngb'}},defaultVariants:undefined,compoundVariants:[]});
var centerMain = createRuntimeFn({defaultClassName:'x613ngc',variantClassNames:{android:{true:'x613ngd'},androidAndIsLeft:{true:'x613nge'},cupertino:{true:'x613ngf'}},defaultVariants:undefined,compoundVariants:[]});
var centerMainEdge = createRuntimeFn({defaultClassName:'x613ngh',variantClassNames:{cupertino:{true:'x613ngi'}},defaultVariants:undefined,compoundVariants:[]});
var centerMainText = 'x613ngg';
var Navbar_css_closeButton = 'x613ng9';
var Navbar_css_container = createRuntimeFn({defaultClassName:'x613ng0',variantClassNames:{cupertinoAndIsNotPresent:{true:'x613ng1'}},defaultVariants:undefined,compoundVariants:[]});
var flex = 'x613ng4';
var left = 'x613ng5';
var Navbar_css_main = createRuntimeFn({defaultClassName:'x613ng2',variantClassNames:{noBorder:{true:'x613ng3'}},defaultVariants:undefined,compoundVariants:[]});
var right = createRuntimeFn({defaultClassName:'x613ng7',variantClassNames:{android:{true:'x613ng8'}},defaultVariants:undefined,compoundVariants:[]});
var svgIcon = 'x613ngj';
;// CONCATENATED MODULE: ./src/components/Navbar.tsx
function Navbar_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function Navbar_slicedToArray(arr, i) { return Navbar_arrayWithHoles(arr) || Navbar_iterableToArrayLimit(arr, i) || Navbar_unsupportedIterableToArray(arr, i) || Navbar_nonIterableRest(); }

function Navbar_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function Navbar_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return Navbar_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Navbar_arrayLikeToArray(o, minLen); }

function Navbar_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function Navbar_iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function Navbar_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }









var Navbar = function Navbar(props) {
  var _useNavigator = useNavigator(),
      pop = _useNavigator.pop;

  var android = props.theme === 'Android';
  var cupertino = props.theme === 'Cupertino';
  var screenInstanceOptions = useStoreSelector(function (state) {
    return state.screenInstanceOptions;
  });

  var _useState = (0,external_react_.useState)(undefined),
      _useState2 = Navbar_slicedToArray(_useState, 2),
      centerMainWidth = _useState2[0],
      setCenterMainWidth = _useState2[1];

  var navbarRef = (0,external_react_.useRef)(null);
  var centerRef = (0,external_react_.useRef)(null);
  var screenInstanceOption = screenInstanceOptions[props.screenInstanceId];
  (0,external_react_.useEffect)(function () {
    var $navbar = navbarRef.current;
    var $center = centerRef.current;

    var onResize = function onResize() {
      if (!$navbar || !$center) {
        return;
      }

      var screenWidth = $navbar.clientWidth;
      var leftWidth = $center.offsetLeft;
      var centerWidth = $center.clientWidth;
      var rightWidth = screenWidth - leftWidth - centerWidth;
      var sideMargin = Math.max(leftWidth, rightWidth);
      setCenterMainWidth(screenWidth - 2 * sideMargin);
    };

    if (props.theme === 'Cupertino') {
      onResize();
      window.addEventListener('resize', onResize);
      return function () {
        window.removeEventListener('resize', onResize);
      };
    }
  }, [screenInstanceOption]);

  var onBackClick = function onBackClick() {
    pop();
  };

  var closeButton = props.onClose && props.isRoot && (screenInstanceOption !== null && screenInstanceOption !== void 0 && screenInstanceOption.navbar.customCloseButton ? /*#__PURE__*/external_react_default().createElement("a", {
    className: Navbar_css_closeButton,
    role: "text",
    "aria-label": props.closeButtonAriaLabel,
    onClick: props.onClose
  }, screenInstanceOption.navbar.customCloseButton) : /*#__PURE__*/external_react_default().createElement("a", {
    className: Navbar_css_closeButton,
    role: "text",
    "aria-label": props.closeButtonAriaLabel,
    onClick: props.onClose
  }, /*#__PURE__*/external_react_default().createElement(assets_IconClose, {
    className: svgIcon
  })));
  var backButton = !props.isRoot && (screenInstanceOption !== null && screenInstanceOption !== void 0 && screenInstanceOption.navbar.customBackButton ? /*#__PURE__*/external_react_default().createElement("a", {
    className: Navbar_css_backButton,
    role: "text",
    "aria-label": props.backButtonAriaLabel,
    onClick: onBackClick
  }, screenInstanceOption.navbar.customBackButton) : /*#__PURE__*/external_react_default().createElement("a", {
    className: Navbar_css_backButton,
    role: "text",
    "aria-label": props.backButtonAriaLabel,
    onClick: onBackClick
  }, props.theme === 'Cupertino' && props.isPresent ? /*#__PURE__*/external_react_default().createElement(assets_IconClose, {
    className: svgIcon
  }) : /*#__PURE__*/external_react_default().createElement(assets_IconBack, {
    className: svgIcon
  })));
  var isLeft = !!((screenInstanceOption === null || screenInstanceOption === void 0 ? void 0 : screenInstanceOption.navbar.closeButtonLocation) === 'left' && closeButton || backButton || screenInstanceOption !== null && screenInstanceOption !== void 0 && screenInstanceOption.navbar.appendLeft);
  var noBorder = screenInstanceOption === null || screenInstanceOption === void 0 ? void 0 : screenInstanceOption.navbar.noBorder;
  return /*#__PURE__*/external_react_default().createElement("div", {
    className: Navbar_css_container({
      cupertinoAndIsNotPresent: cupertino && !props.isPresent ? true : undefined
    }),
    ref: navbarRef,
    style: (0,dynamic_.assignInlineVars)(Navbar_defineProperty({}, vars.navbar.center.mainWidth, "".concat(centerMainWidth, "px")))
  }, /*#__PURE__*/external_react_default().createElement("div", {
    className: Navbar_css_main({
      noBorder: noBorder ? true : undefined
    })
  }, /*#__PURE__*/external_react_default().createElement("div", {
    className: flex
  }, /*#__PURE__*/external_react_default().createElement("div", {
    className: left
  }, (screenInstanceOption === null || screenInstanceOption === void 0 ? void 0 : screenInstanceOption.navbar.closeButtonLocation) === 'left' && closeButton, backButton, screenInstanceOption === null || screenInstanceOption === void 0 ? void 0 : screenInstanceOption.navbar.appendLeft), /*#__PURE__*/external_react_default().createElement("div", {
    className: center({
      android: android ? true : undefined
    }),
    ref: centerRef
  }, /*#__PURE__*/external_react_default().createElement("div", {
    className: centerMain({
      android: android ? true : undefined,
      androidAndIsLeft: android && isLeft ? true : undefined,
      cupertino: cupertino ? true : undefined
    })
  }, typeof (screenInstanceOption === null || screenInstanceOption === void 0 ? void 0 : screenInstanceOption.navbar.title) === 'string' ? /*#__PURE__*/external_react_default().createElement("div", {
    className: centerMainText
  }, screenInstanceOption === null || screenInstanceOption === void 0 ? void 0 : screenInstanceOption.navbar.title) : screenInstanceOption === null || screenInstanceOption === void 0 ? void 0 : screenInstanceOption.navbar.title), /*#__PURE__*/external_react_default().createElement("div", {
    className: centerMainEdge({
      cupertino: cupertino ? true : undefined
    }),
    onClick: props.onTopClick
  })), /*#__PURE__*/external_react_default().createElement("div", {
    className: right({
      android: android ? true : undefined
    })
  }, screenInstanceOption === null || screenInstanceOption === void 0 ? void 0 : screenInstanceOption.navbar.appendRight, (screenInstanceOption === null || screenInstanceOption === void 0 ? void 0 : screenInstanceOption.navbar.closeButtonLocation) === 'right' && closeButton))));
};

/* harmony default export */ const components_Navbar = (Navbar);
;// CONCATENATED MODULE: ./src/components/Card.tsx
function Card_slicedToArray(arr, i) { return Card_arrayWithHoles(arr) || Card_iterableToArrayLimit(arr, i) || Card_unsupportedIterableToArray(arr, i) || Card_nonIterableRest(); }

function Card_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function Card_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return Card_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Card_arrayLikeToArray(o, minLen); }

function Card_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function Card_iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function Card_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }









var Card = function Card(props) {
  var _screenInstanceOption3, _screenInstanceOption4;

  var _useNavigator = useNavigator(),
      pop = _useNavigator.pop;

  var android = props.theme === 'Android';
  var cupertino = props.theme === 'Cupertino';

  var _useState = (0,external_react_.useState)(false),
      _useState2 = Card_slicedToArray(_useState, 2),
      popped = _useState2[0],
      setPopped = _useState2[1];

  var store = useStore();

  var _useStoreSelector = useStoreSelector(function (state) {
    return {
      screenInstanceOptions: state.screenInstanceOptions
    };
  }),
      screenInstanceOptions = _useStoreSelector.screenInstanceOptions;

  var dimRef = (0,external_react_.useRef)(null);
  var frameRef = (0,external_react_.useRef)(null);
  var frameOffsetRef = props.beforeTopFrameOffsetRef;
  var edgeRef = (0,external_react_.useRef)(null);
  (0,external_react_.useEffect)(function () {
    var $dim = dimRef.current;
    var $frame = frameRef.current;
    var $frameOffset = frameOffsetRef.current;
    var $edge = edgeRef.current;

    if (!$dim || !$frame || !$frameOffset || !$edge) {
      return;
    }

    var x0 = null;
    var t0 = null;
    var x = null;

    var resetState = function resetState() {
      x0 = null;
      t0 = null;
      x = null;
    };

    var _makeTranslation = makeTranslation({
      $dim: $dim,
      $frame: $frame,
      $frameOffset: $frameOffset
    }),
        translate = _makeTranslation.translate,
        resetTranslation = _makeTranslation.resetTranslation;

    var onTouchStart = function onTouchStart(e) {
      var _document$activeEleme, _document$activeEleme2;

      (_document$activeEleme = document.activeElement) === null || _document$activeEleme === void 0 ? void 0 : (_document$activeEleme2 = _document$activeEleme['blur']) === null || _document$activeEleme2 === void 0 ? void 0 : _document$activeEleme2.call(_document$activeEleme);
      x0 = x = e.touches[0].clientX;
      t0 = Date.now();
    };

    var onTouchMove = function onTouchMove(e) {
      if (!x0) {
        return resetState();
      }

      x = e.touches[0].clientX;
      translate({
        dx: x - x0
      });
    };

    var onTouchEnd = function onTouchEnd() {
      if (!x0 || !t0 || !x) {
        return resetState();
      }

      var t = Date.now();
      var v = (x - x0) / (t - t0);

      if (v > 1 || x / $frame.clientWidth > 0.4) {
        setPopped(true);
        pop();
      }

      resetState();
      resetTranslation();
    };

    $edge.addEventListener('touchstart', onTouchStart, {
      passive: true
    });
    $edge.addEventListener('touchmove', onTouchMove, {
      passive: true
    });
    $edge.addEventListener('touchend', onTouchEnd, {
      passive: true
    });
    return function () {
      $edge.removeEventListener('touchstart', onTouchStart);
      $edge.removeEventListener('touchmove', onTouchMove);
      $edge.removeEventListener('touchend', onTouchEnd);
    };
  }, [dimRef, frameRef, frameOffsetRef, edgeRef, setPopped, pop]);
  var onTopClick = (0,external_react_.useCallback)(function () {
    var _screenInstanceOption, _screenInstanceOption2;

    var $frame = frameRef.current;
    var screenInstanceOption = store.getState().screenInstanceOptions[props.screenInstanceId];

    if (!(screenInstanceOption !== null && screenInstanceOption !== void 0 && screenInstanceOption.navbar.disableScrollToTop) && $frame) {
      var scroller = external_zenscroll_default().createScroller($frame);
      scroller.toY(0);
    }

    screenInstanceOption === null || screenInstanceOption === void 0 ? void 0 : (_screenInstanceOption = (_screenInstanceOption2 = screenInstanceOption.navbar).onTopClick) === null || _screenInstanceOption === void 0 ? void 0 : _screenInstanceOption.call(_screenInstanceOption2);
  }, []);
  var isNavbarVisible = (_screenInstanceOption3 = (_screenInstanceOption4 = screenInstanceOptions[props.screenInstanceId]) === null || _screenInstanceOption4 === void 0 ? void 0 : _screenInstanceOption4.navbar.visible) !== null && _screenInstanceOption3 !== void 0 ? _screenInstanceOption3 : false;
  return /*#__PURE__*/external_react_default().createElement("div", {
    ref: props.nodeRef,
    className: container
  }, !props.isRoot && /*#__PURE__*/external_react_default().createElement("div", {
    className: dim({
      android: android ? true : undefined,
      cupertinoAndIsNavbarVisible: cupertino && isNavbarVisible ? true : undefined,
      cupertinoAndIsPresent: cupertino && props.isPresent ? true : undefined
    }),
    ref: dimRef
  }), /*#__PURE__*/external_react_default().createElement("div", {
    className: mainOffset({
      androidAndIsNotTop: android && !props.isTop ? true : undefined
    })
  }, /*#__PURE__*/external_react_default().createElement("div", {
    className: main({
      android: android ? true : undefined,
      androidAndIsNavbarVisible: android && isNavbarVisible ? true : undefined,
      androidAndIsRoot: android && props.isRoot ? true : undefined,
      cupertinoAndIsNavbarVisible: cupertino && isNavbarVisible ? true : undefined,
      cupertinoAndIsPresent: cupertino && props.isPresent ? true : undefined
    })
  }, isNavbarVisible && /*#__PURE__*/external_react_default().createElement(components_Navbar, {
    screenInstanceId: props.screenInstanceId,
    theme: props.theme,
    isRoot: props.isRoot,
    isPresent: props.isPresent,
    backButtonAriaLabel: props.backButtonAriaLabel,
    closeButtonAriaLabel: props.closeButtonAriaLabel,
    onClose: props.onClose,
    onTopClick: onTopClick
  }), /*#__PURE__*/external_react_default().createElement("div", {
    className: frameOffset({
      cupertinoAndIsNotPresent: cupertino && !props.isPresent ? true : undefined,
      cupertinoAndIsNotTop: cupertino && !props.isTop ? true : undefined
    }),
    ref: props.isBeforeTop ? props.beforeTopFrameOffsetRef : undefined
  }, /*#__PURE__*/external_react_default().createElement("div", {
    className: Card_css_frame({
      cupertino: cupertino ? true : undefined,
      cupertinoAndIsNotRoot: cupertino && !props.isRoot ? true : undefined,
      cupertinoAndIsPresent: cupertino && props.isPresent ? true : undefined,
      cupertinoAndIsNotPresent: cupertino && !props.isPresent ? true : undefined
    }),
    ref: frameRef
  }, props.children)), cupertino && !props.isRoot && !props.isPresent && !popped && /*#__PURE__*/external_react_default().createElement("div", {
    className: edge({
      cupertinoAndIsNavbarVisible: cupertino && isNavbarVisible ? true : undefined,
      isNavbarVisible: isNavbarVisible ? true : undefined
    }),
    ref: edgeRef
  }))));
};

/* harmony default export */ const components_Card = (Card);
;// CONCATENATED MODULE: ./src/components/Stack.useDepthChangeEffect.ts



function useDepthChangeEffect(onDepthChange) {
  var store = useStore();
  (0,external_react_.useEffect)(function () {
    return store.listen(function (prevState, nextState) {
      if (nextState.screenInstancePtr > -1 && prevState.screenInstancePtr !== nextState.screenInstancePtr) {
        onDepthChange === null || onDepthChange === void 0 ? void 0 : onDepthChange(nextState.screenInstancePtr);
      }
    });
  }, [onDepthChange]);
}

/* harmony default export */ const Stack_useDepthChangeEffect = (useDepthChangeEffect);
;// CONCATENATED MODULE: ./src/components/Stack.usePush.ts


function usePush() {
  var store = useStore();

  var _useStoreActions = useStoreActions(),
      insertScreenInstance = _useStoreActions.insertScreenInstance,
      increaseScreenInstancePtr = _useStoreActions.increaseScreenInstancePtr,
      setScreenInstancePtr = _useStoreActions.setScreenInstancePtr;

  var push = (0,external_react_.useCallback)(function (_ref) {
    var screenId = _ref.screenId,
        screenInstanceId = _ref.screenInstanceId,
        present = _ref.present,
        as = _ref.as;

    var _store$getState = store.getState(),
        screenInstances = _store$getState.screenInstances,
        screenInstancePtr = _store$getState.screenInstancePtr;

    var nextPtr = screenInstances.findIndex(function (screenInstance) {
      return screenInstance.id === screenInstanceId;
    });

    if (nextPtr === -1) {
      insertScreenInstance({
        ptr: screenInstancePtr,
        screenInstance: {
          id: screenInstanceId,
          screenId: screenId,
          present: present,
          as: as
        }
      });
      increaseScreenInstancePtr();
    } else {
      setScreenInstancePtr({
        ptr: nextPtr
      });
    }
  }, []);
  return push;
}
;// CONCATENATED MODULE: ./src/components/Stack.useInitialize.ts







function useInitialize() {
  var _useUniqueId = useUniqueId(),
      uid = _useUniqueId.uid;

  var location = (0,external_react_router_dom_.useLocation)();
  var history = (0,external_react_router_dom_.useHistory)();
  var store = useStore();
  var push = usePush();
  (0,external_react_.useEffect)(function () {
    if (typeof window === 'undefined') {
      return;
    }

    if (window.__KARROTFRAME__) {
      throw new Error('Only one Navigator is allowed in an app');
    }

    window.__KARROTFRAME__ = true;
    var searchParams = new URLSearchParams(location.search);
    var screenInstanceId = uid();
    searchParams.set(NavigatorParamKeys.SCREEN_INSTANCE_ID, screenInstanceId);

    var _store$getState = store.getState(),
        screens = _store$getState.screens,
        screenInstances = _store$getState.screenInstances;

    if (screenInstances.length === 0) {
      var matchScreen = Object.values(screens).find(function (screen) {
        return screen && (0,external_react_router_dom_.matchPath)(location.pathname, {
          exact: true,
          path: screen.path
        });
      });

      if (matchScreen) {
        push({
          screenId: matchScreen.id,
          screenInstanceId: screenInstanceId,
          present: false,
          as: location.pathname
        });
      }
    }

    history.replace("".concat(location.pathname, "?").concat(searchParams.toString()));
    return function () {
      window.__KARROTFRAME__ = false;
    };
  }, []);
}

/* harmony default export */ const Stack_useInitialize = (useInitialize);
;// CONCATENATED MODULE: ./src/components/Stack.usePop.ts



function usePop() {
  var store = useStore();

  var _useStoreActions = useStoreActions(),
      setScreenInstancePtr = _useStoreActions.setScreenInstancePtr;

  var pop = (0,external_react_.useCallback)(function (_ref) {
    var depth = _ref.depth,
        targetScreenInstanceId = _ref.targetScreenInstanceId;

    var _store$getState = store.getState(),
        screenInstancePromises = _store$getState.screenInstancePromises,
        screenInstancePtr = _store$getState.screenInstancePtr;

    if (targetScreenInstanceId) {
      var promise = screenInstancePromises[targetScreenInstanceId];

      if (promise && !promise.popped) {
        promise.resolve(null);
      }
    }

    setScreenInstancePtr({
      ptr: screenInstancePtr - depth
    });
  }, []);
  return pop;
}

/* harmony default export */ const Stack_usePop = (usePop);
;// CONCATENATED MODULE: ./src/components/Stack.useInitializeHistoryPopEffect.ts
function Stack_useInitializeHistoryPopEffect_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function Stack_useInitializeHistoryPopEffect_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { Stack_useInitializeHistoryPopEffect_ownKeys(Object(source), true).forEach(function (key) { Stack_useInitializeHistoryPopEffect_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { Stack_useInitializeHistoryPopEffect_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function Stack_useInitializeHistoryPopEffect_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }








function useInitializeHistoryPopEffect() {
  var store = useStore();

  var _useStoreActions = useStoreActions(),
      mapScreenInstance = _useStoreActions.mapScreenInstance;

  var push = usePush();
  var pop = Stack_usePop();
  useHistoryPopEffect({
    backward: function backward(location) {
      var _screenInstances$scre;

      var _store$getState = store.getState(),
          screens = _store$getState.screens,
          screenInstances = _store$getState.screenInstances,
          screenInstancePtr = _store$getState.screenInstancePtr;

      var matchScreen = Object.values(screens).find(function (screen) {
        return screen && (0,external_react_router_dom_.matchPath)(location.pathname, {
          exact: true,
          path: screen.path
        });
      });
      var searchParams = new URLSearchParams(location.search);

      var _getNavigatorParams = getNavigatorParams(searchParams),
          screenInstanceId = _getNavigatorParams.screenInstanceId;

      if (screenInstanceId && matchScreen) {
        var nextPtr = screenInstances.findIndex(function (screenInstance) {
          return screenInstance.id === screenInstanceId;
        });
        mapScreenInstance({
          ptr: screenInstancePtr,
          mapper: function mapper(screenInstance) {
            return Stack_useInitializeHistoryPopEffect_objectSpread(Stack_useInitializeHistoryPopEffect_objectSpread({}, screenInstance), {}, {
              nestedRouteCount: 0
            });
          }
        });
        pop({
          depth: screenInstancePtr - nextPtr,
          targetScreenInstanceId: screenInstanceId
        });
      } else if (((_screenInstances$scre = screenInstances[screenInstancePtr]) === null || _screenInstances$scre === void 0 ? void 0 : _screenInstances$scre.nestedRouteCount) === 0) {
        pop({
          depth: 1
        });
      } else {
        mapScreenInstance({
          ptr: screenInstancePtr,
          mapper: function mapper(screenInstance) {
            return Stack_useInitializeHistoryPopEffect_objectSpread(Stack_useInitializeHistoryPopEffect_objectSpread({}, screenInstance), {}, {
              nestedRouteCount: screenInstance.nestedRouteCount - 1
            });
          }
        });
      }
    },
    forward: function forward(location) {
      var _store$getState2 = store.getState(),
          screens = _store$getState2.screens,
          screenInstancePtr = _store$getState2.screenInstancePtr;

      var searchParams = new URLSearchParams(location.search);

      var _getNavigatorParams2 = getNavigatorParams(searchParams),
          screenInstanceId = _getNavigatorParams2.screenInstanceId,
          present = _getNavigatorParams2.present;

      var matchScreen = Object.values(screens).find(function (screen) {
        return screen && (0,external_react_router_dom_.matchPath)(location.pathname, {
          exact: true,
          path: screen.path
        });
      });

      if (screenInstanceId && matchScreen) {
        push({
          screenId: matchScreen.id,
          screenInstanceId: screenInstanceId,
          present: present,
          as: location.pathname
        });
      } else {
        mapScreenInstance({
          ptr: screenInstancePtr,
          mapper: function mapper(screenInstance) {
            return Stack_useInitializeHistoryPopEffect_objectSpread(Stack_useInitializeHistoryPopEffect_objectSpread({}, screenInstance), {}, {
              nestedRouteCount: screenInstance.nestedRouteCount + 1
            });
          }
        });
      }
    }
  }, [pop, push]);
}

/* harmony default export */ const Stack_useInitializeHistoryPopEffect = (useInitializeHistoryPopEffect);
;// CONCATENATED MODULE: ./src/components/Stack.useInitializeHistoryPushEffect.ts
function Stack_useInitializeHistoryPushEffect_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function Stack_useInitializeHistoryPushEffect_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { Stack_useInitializeHistoryPushEffect_ownKeys(Object(source), true).forEach(function (key) { Stack_useInitializeHistoryPushEffect_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { Stack_useInitializeHistoryPushEffect_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function Stack_useInitializeHistoryPushEffect_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






function useInitializeHistoryPushEffect() {
  var store = useStore();

  var _useStoreActions = useStoreActions(),
      mapScreenInstance = _useStoreActions.mapScreenInstance;

  var push = usePush();
  useHistoryPushEffect(function (location) {
    var _store$getState = store.getState(),
        screens = _store$getState.screens,
        screenInstancePtr = _store$getState.screenInstancePtr;

    var searchParams = new URLSearchParams(location.search);

    var _getNavigatorParams = getNavigatorParams(searchParams),
        screenInstanceId = _getNavigatorParams.screenInstanceId,
        present = _getNavigatorParams.present;

    var matchScreen = Object.values(screens).find(function (screen) {
      return !!screen && (0,external_react_router_dom_.matchPath)(location.pathname, {
        exact: true,
        path: screen.path
      });
    });

    if (screenInstanceId && matchScreen) {
      push({
        screenId: matchScreen.id,
        screenInstanceId: screenInstanceId,
        present: present,
        as: location.pathname
      });
    } else {
      mapScreenInstance({
        ptr: screenInstancePtr,
        mapper: function mapper(screenInstance) {
          return Stack_useInitializeHistoryPushEffect_objectSpread(Stack_useInitializeHistoryPushEffect_objectSpread({}, screenInstance), {}, {
            nestedRouteCount: screenInstance.nestedRouteCount + 1
          });
        }
      });
    }
  }, [push]);
}
;// CONCATENATED MODULE: ./src/components/Stack.useReplace.ts


function useReplace() {
  var store = useStore();

  var _useStoreActions = useStoreActions(),
      insertScreenInstance = _useStoreActions.insertScreenInstance;

  var replace = (0,external_react_.useCallback)(function (_ref) {
    var screenId = _ref.screenId,
        screenInstanceId = _ref.screenInstanceId,
        as = _ref.as,
        present = _ref.present;

    var _store$getState = store.getState(),
        screenInstancePtr = _store$getState.screenInstancePtr;

    insertScreenInstance({
      ptr: screenInstancePtr - 1,
      screenInstance: {
        id: screenInstanceId,
        screenId: screenId,
        present: present,
        as: as
      }
    });
  }, []);
  return replace;
}
;// CONCATENATED MODULE: ./src/components/Stack.useInitializeHistoryReplaceEffect.ts





function useInitializeHistoryReplaceEffect() {
  var store = useStore();
  var replace = useReplace();
  useHistoryReplaceEffect(function (location) {
    var _store$getState = store.getState(),
        screens = _store$getState.screens;

    var searchParams = new URLSearchParams(location.search);

    var _getNavigatorParams = getNavigatorParams(searchParams),
        screenInstanceId = _getNavigatorParams.screenInstanceId,
        present = _getNavigatorParams.present;

    var matchScreen = Object.values(screens).find(function (screen) {
      return screen && (0,external_react_router_dom_.matchPath)(location.pathname, {
        exact: true,
        path: screen.path
      });
    });

    if (screenInstanceId && matchScreen) {
      replace({
        screenId: matchScreen.id,
        screenInstanceId: screenInstanceId,
        present: present,
        as: location.pathname
      });
    }
  }, [replace]);
}
;// CONCATENATED MODULE: ./src/components/Stack.tsx












var Stack = function Stack(props) {
  var beforeTopFrameOffsetRef = (0,external_react_.useRef)(null);

  var _useStoreSelector = useStoreSelector(function (state) {
    return {
      screens: state.screens,
      screenInstances: state.screenInstances,
      screenInstancePtr: state.screenInstancePtr
    };
  }),
      screens = _useStoreSelector.screens,
      screenInstances = _useStoreSelector.screenInstances,
      screenInstancePtr = _useStoreSelector.screenInstancePtr;

  Stack_useDepthChangeEffect(props.onDepthChange);
  Stack_useInitialize();
  useInitializeHistoryPushEffect();
  useInitializeHistoryReplaceEffect();
  Stack_useInitializeHistoryPopEffect();
  return /*#__PURE__*/external_react_default().createElement((external_react_default()).Fragment, null, screenInstances.map(function (screenInstance, screenInstanceIndex) {
    var isRoot = screenInstanceIndex === 0;
    var isTop = screenInstanceIndex === screenInstancePtr;
    var screen = screens[screenInstance.screenId];

    if (!screen) {
      return null;
    }

    return /*#__PURE__*/external_react_default().createElement(_lib_NodeRef, {
      key: screenInstanceIndex
    }, function (nodeRef) {
      return /*#__PURE__*/external_react_default().createElement(external_react_transition_group_.CSSTransition, {
        key: screenInstance.id,
        nodeRef: nodeRef,
        timeout: props.animationDuration,
        in: screenInstanceIndex <= screenInstancePtr,
        classNames: {
          enterActive: container_enterActive,
          enterDone: container_enterDone,
          exitActive: container_exitActive,
          exitDone: container_exitDone
        },
        unmountOnExit: true
      }, /*#__PURE__*/external_react_default().createElement(components_Card, {
        nodeRef: nodeRef,
        beforeTopFrameOffsetRef: beforeTopFrameOffsetRef,
        theme: props.theme,
        screenPath: screen.path,
        screenInstanceId: screenInstance.id,
        isRoot: screenInstanceIndex === 0,
        isTop: screenInstanceIndex >= screenInstancePtr || props.theme === 'Cupertino' && screenInstances.length > screenInstanceIndex + 1 && screenInstances[screenInstanceIndex + 1].present,
        isBeforeTop: screenInstanceIndex === screenInstancePtr - 1,
        isPresent: screenInstance.present,
        backButtonAriaLabel: props.backButtonAriaLabel,
        closeButtonAriaLabel: props.closeButtonAriaLabel,
        onClose: props.onClose
      }, /*#__PURE__*/external_react_default().createElement(screen.Component, {
        screenInstanceId: screenInstance.id,
        as: screenInstance.as,
        isTop: isTop,
        isRoot: isRoot
      })));
    });
  }), props.children);
};

/* harmony default export */ const components_Stack = (Stack);
;// CONCATENATED MODULE: ./src/Navigator.tsx
function Navigator_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function Navigator_toConsumableArray(arr) { return Navigator_arrayWithoutHoles(arr) || Navigator_iterableToArray(arr) || Navigator_unsupportedIterableToArray(arr) || Navigator_nonIterableSpread(); }

function Navigator_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function Navigator_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return Navigator_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Navigator_arrayLikeToArray(o, minLen); }

function Navigator_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function Navigator_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return Navigator_arrayLikeToArray(arr); }

function Navigator_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }









var DEFAULT_CUPERTINO_ANIMATION_DURATION = 350;
var DEFAULT_ANDROID_ANIMATION_DURATION = 270;

var Navigator = function Navigator(_ref) {
  var _ref$theme = _ref.theme,
      theme = _ref$theme === void 0 ? 'Android' : _ref$theme,
      _ref$animationDuratio = _ref.animationDuration,
      animationDuration = _ref$animationDuratio === void 0 ? theme === 'Android' ? DEFAULT_ANDROID_ANIMATION_DURATION : DEFAULT_CUPERTINO_ANIMATION_DURATION : _ref$animationDuratio,
      useCustomRouter = _ref.useCustomRouter,
      className = _ref.className,
      _ref$backButtonAriaLa = _ref.backButtonAriaLabel,
      backButtonAriaLabel = _ref$backButtonAriaLa === void 0 ? 'Go back' : _ref$backButtonAriaLa,
      _ref$closeButtonAriaL = _ref.closeButtonAriaLabel,
      closeButtonAriaLabel = _ref$closeButtonAriaL === void 0 ? 'Close' : _ref$closeButtonAriaL,
      onClose = _ref.onClose,
      onDepthChange = _ref.onDepthChange,
      children = _ref.children;
  var h = /*#__PURE__*/external_react_default().createElement(UniqueIdProvider, null, /*#__PURE__*/external_react_default().createElement(StoreProvider, null, /*#__PURE__*/external_react_default().createElement("div", {
    className: [root({
      theme: theme
    })].concat(Navigator_toConsumableArray(className ? [className] : [])).join(' '),
    style: (0,dynamic_.assignInlineVars)(Navigator_defineProperty({}, vars.animationDuration, animationDuration + 'ms'))
  }, /*#__PURE__*/external_react_default().createElement(external_react_transition_group_.TransitionGroup, {
    component: null
  }, /*#__PURE__*/external_react_default().createElement(components_Stack, {
    animationDuration: animationDuration,
    theme: theme,
    onClose: onClose,
    backButtonAriaLabel: backButtonAriaLabel,
    closeButtonAriaLabel: closeButtonAriaLabel,
    onDepthChange: onDepthChange
  }, children)))));

  if (!useCustomRouter) {
    h = /*#__PURE__*/external_react_default().createElement(external_react_router_dom_.HashRouter, null, h);
  }

  return h;
};

/* harmony default export */ const src_Navigator = (Navigator);
;// CONCATENATED MODULE: ./src/Screen.tsx




var Screen = function Screen(props) {
  var _Component = props.component;

  var _useStoreActions = useStoreActions(),
      registerScreen = _useStoreActions.registerScreen,
      addScreenInstanceOption = _useStoreActions.addScreenInstanceOption;

  (0,external_react_.useEffect)(function () {
    if (!props.children && !_Component) {
      console.warn('Either component props or children is required');
      return;
    }

    var screenId = props.path;
    var unregisterScreen = registerScreen({
      screen: {
        id: screenId,
        path: props.path,
        Component: function Component(_ref) {
          var screenInstanceId = _ref.screenInstanceId,
              as = _ref.as,
              isTop = _ref.isTop,
              isRoot = _ref.isRoot;
          var setNavbar = (0,external_react_.useCallback)(function (navbar) {
            addScreenInstanceOption({
              screenInstanceId: screenInstanceId,
              screenInstanceOption: {
                navbar: navbar
              }
            });
          }, [addScreenInstanceOption, screenInstanceId]);
          var screenInstanceContext = (0,external_react_.useMemo)(function () {
            return {
              screenInstanceId: screenInstanceId,
              as: as,
              isTop: isTop,
              isRoot: isRoot,
              path: props.path
            };
          }, [screenInstanceId, as, isTop, isRoot, props.path]);
          return /*#__PURE__*/external_react_default().createElement(ScreenInstanceProvider, {
            value: screenInstanceContext
          }, /*#__PURE__*/external_react_default().createElement(ScreenInstanceSetNavbarProvider, {
            value: setNavbar
          }, _Component ? /*#__PURE__*/external_react_default().createElement(_Component, null) : props.children));
        }
      }
    });
    return function () {
      unregisterScreen();
    };
  }, [props.path, _Component]);
  return null;
};

/* harmony default export */ const src_Screen = (Screen);
;// CONCATENATED MODULE: ./src/ScreenHelmet.tsx



var ScreenHelmet = function ScreenHelmet(props) {
  var setNavbar = useScreenInstanceSetNavbar();
  (0,external_react_.useEffect)(function () {
    var _props$title, _props$appendLeft, _props$appendRight, _props$closeButtonLoc, _props$customBackButt, _props$customCloseBut, _props$disableScrollT, _props$noBorder;

    setNavbar({
      visible: true,
      title: (_props$title = props.title) !== null && _props$title !== void 0 ? _props$title : null,
      appendLeft: (_props$appendLeft = props.appendLeft) !== null && _props$appendLeft !== void 0 ? _props$appendLeft : null,
      appendRight: (_props$appendRight = props.appendRight) !== null && _props$appendRight !== void 0 ? _props$appendRight : null,
      closeButtonLocation: (_props$closeButtonLoc = props.closeButtonLocation) !== null && _props$closeButtonLoc !== void 0 ? _props$closeButtonLoc : 'left',
      customBackButton: (_props$customBackButt = props.customBackButton) !== null && _props$customBackButt !== void 0 ? _props$customBackButt : null,
      customCloseButton: (_props$customCloseBut = props.customCloseButton) !== null && _props$customCloseBut !== void 0 ? _props$customCloseBut : null,
      disableScrollToTop: (_props$disableScrollT = props.disableScrollToTop) !== null && _props$disableScrollT !== void 0 ? _props$disableScrollT : false,
      noBorder: (_props$noBorder = props.noBorder) !== null && _props$noBorder !== void 0 ? _props$noBorder : false,
      onTopClick: props.onTopClick
    });
  }, [props.title, props.appendLeft, props.appendRight, props.closeButtonLocation, props.customBackButton, props.customCloseButton, props.disableScrollToTop, props.noBorder, props.onTopClick]);
  (0,external_react_.useEffect)(function () {
    return function () {
      setNavbar({
        visible: false,
        title: null,
        appendLeft: null,
        appendRight: null,
        closeButtonLocation: 'left',
        customBackButton: null,
        customCloseButton: null,
        disableScrollToTop: false,
        noBorder: false,
        onTopClick: undefined
      });
    };
  }, []);
  return null;
};

/* harmony default export */ const src_ScreenHelmet = (ScreenHelmet);
;// CONCATENATED MODULE: ./src/useCurrentScreen.ts


function useCurrentScreen() {
  var _useScreenInstance = useScreenInstance(),
      isTop = _useScreenInstance.isTop,
      isRoot = _useScreenInstance.isRoot;

  return (0,external_react_.useMemo)(function () {
    return {
      isTop: isTop,
      isRoot: isRoot
    };
  }, [isTop, isRoot]);
}
;// CONCATENATED MODULE: ./src/useParams.ts



function useParams() {
  var _useScreenInstance = useScreenInstance(),
      as = _useScreenInstance.as,
      path = _useScreenInstance.path;

  return (0,external_react_.useMemo)(function () {
    var _matchPath$params, _matchPath;

    return (_matchPath$params = (_matchPath = (0,external_react_router_dom_.matchPath)(as, path)) === null || _matchPath === void 0 ? void 0 : _matchPath.params) !== null && _matchPath$params !== void 0 ? _matchPath$params : {};
  }, [as, path]);
}
;// CONCATENATED MODULE: ./src/useQueryParams.ts
function useQueryParams_toConsumableArray(arr) { return useQueryParams_arrayWithoutHoles(arr) || useQueryParams_iterableToArray(arr) || useQueryParams_unsupportedIterableToArray(arr) || useQueryParams_nonIterableSpread(); }

function useQueryParams_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function useQueryParams_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return useQueryParams_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return useQueryParams_arrayLikeToArray(o, minLen); }

function useQueryParams_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function useQueryParams_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return useQueryParams_arrayLikeToArray(arr); }

function useQueryParams_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }




function useQueryParams(options) {
  var ignoreNestedRoutes = !!(options !== null && options !== void 0 && options.ignoreNestedRoutes);
  var location = (0,external_react_router_dom_.useLocation)();

  var _useScreenInstance = useScreenInstance(),
      as = _useScreenInstance.as;

  var parse = (0,external_react_.useMemo)(function () {
    var prevParams = {};
    return function (_ref) {
      var pathname = _ref.pathname,
          search = _ref.search;

      if (pathname === as) {
        prevParams = Object.fromEntries(new URLSearchParams(search).entries());
      }

      return prevParams;
    };
  }, [as]);
  var queryParams = (0,external_react_.useMemo)(function () {
    return parse({
      pathname: location.pathname,
      search: location.search
    });
  }, [ignoreNestedRoutes].concat(useQueryParams_toConsumableArray(ignoreNestedRoutes ? [as] : [location.pathname, location.search])));
  return queryParams;
}
// EXTERNAL MODULE: ./src/types/NavigatorTheme.ts
var NavigatorTheme = __webpack_require__(885);
;// CONCATENATED MODULE: ./src/index.ts










/***/ }),

/***/ 885:
/***/ (() => {



/***/ }),

/***/ 475:
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE__475__;

/***/ }),

/***/ 297:
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE__297__;

/***/ }),

/***/ 53:
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE__53__;

/***/ }),

/***/ 146:
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE__146__;

/***/ }),

/***/ 810:
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE__810__;

/***/ }),

/***/ 148:
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE__148__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	// module exports must be returned from runtime so entry inlining is disabled
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(190);
/******/ })()
;
});
//# sourceMappingURL=index.js.map